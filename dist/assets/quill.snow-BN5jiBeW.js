import{p as _c,a as k,q as Yo,c as Mt,g as Bl,R as at}from"./index-DA83-y1t.js";var Mc=_c();function Yt(n){"@babel/helpers - typeof";return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(n)}function kc(n,e){if(Yt(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Yt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $l(n){var e=kc(n,"string");return Yt(e)=="symbol"?e:e+""}function tr(n,e,t){return(e=$l(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xo(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Y(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xo(Object(t),!0).forEach(function(r){tr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xo(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qc(n){if(Array.isArray(n))return n}function Pc(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,l=[],a=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;a=!1}else for(;!(a=(r=s.call(t)).done)&&(l.push(r.value),l.length!==e);a=!0);}catch(h){c=!0,i=h}finally{try{if(!a&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}function zs(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Fl(n,e){if(n){if(typeof n=="string")return zs(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?zs(n,e):void 0}}function Dc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Et(n,e){return qc(n)||Pc(n,e)||Fl(n,e)||Dc()}function Bc(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Tt(n,e){if(n==null)return{};var t,r,i=Bc(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var $c=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Fc(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,i=r===void 0?!1:r,s=n.defaultValue,o=s===void 0?null:s,l=n.inputValue,a=n.menuIsOpen,c=n.onChange,h=n.onInputChange,p=n.onMenuClose,d=n.onMenuOpen,g=n.value,m=Tt(n,$c),v=k.useState(l!==void 0?l:t),b=Et(v,2),E=b[0],A=b[1],T=k.useState(a!==void 0?a:i),R=Et(T,2),x=R[0],q=R[1],M=k.useState(g!==void 0?g:o),B=Et(M,2),X=B[0],le=B[1],y=k.useCallback(function($,F){typeof c=="function"&&c($,F),le($)},[c]),L=k.useCallback(function($,F){var D;typeof h=="function"&&(D=h($,F)),A(D!==void 0?D:$)},[h]),S=k.useCallback(function(){typeof d=="function"&&d(),q(!0)},[d]),P=k.useCallback(function(){typeof p=="function"&&p(),q(!1)},[p]),I=l!==void 0?l:E,C=a!==void 0?a:x,_=g!==void 0?g:X;return Y(Y({},m),{},{inputValue:I,menuIsOpen:C,onChange:y,onInputChange:L,onMenuClose:P,onMenuOpen:S,value:_})}function Q(){return Q=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Q.apply(null,arguments)}function jc(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Qo(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,$l(r.key),r)}}function Uc(n,e,t){return e&&Qo(n.prototype,e),t&&Qo(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Gs(n,e){return Gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Gs(n,e)}function Vc(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Gs(n,e)}function ai(n){return ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ai(n)}function jl(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jl=function(){return!!n})()}function Hc(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zc(n,e){if(e&&(Yt(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hc(n)}function Gc(n){var e=jl();return function(){var t,r=ai(n);if(e){var i=ai(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return zc(this,t)}}function Wc(n){if(Array.isArray(n))return zs(n)}function Kc(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Zc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bo(n){return Wc(n)||Kc(n)||Fl(n)||Zc()}function Yc(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Xc(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Qc=(function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Xc(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Yc(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n})(),Re="-ms-",li="-moz-",fe="-webkit-",Ul="comm",vo="rule",yo="decl",Jc="@import",Vl="@keyframes",eh="@layer",th=Math.abs,xi=String.fromCharCode,nh=Object.assign;function rh(n,e){return Oe(n,0)^45?(((e<<2^Oe(n,0))<<2^Oe(n,1))<<2^Oe(n,2))<<2^Oe(n,3):0}function Hl(n){return n.trim()}function ih(n,e){return(n=e.exec(n))?n[0]:n}function de(n,e,t){return n.replace(e,t)}function Ws(n,e){return n.indexOf(e)}function Oe(n,e){return n.charCodeAt(e)|0}function ar(n,e,t){return n.slice(e,t)}function lt(n){return n.length}function wo(n){return n.length}function Fr(n,e){return e.push(n),n}function sh(n,e){return n.map(e).join("")}var Ai=1,Ln=1,zl=0,Be=0,Se=0,_n="";function Ti(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Ai,column:Ln,length:o,return:""}}function Yn(n,e){return nh(Ti("",null,null,"",null,null,0),n,{length:-n.length},e)}function oh(){return Se}function ah(){return Se=Be>0?Oe(_n,--Be):0,Ln--,Se===10&&(Ln=1,Ai--),Se}function $e(){return Se=Be<zl?Oe(_n,Be++):0,Ln++,Se===10&&(Ln=1,Ai++),Se}function ct(){return Oe(_n,Be)}function ni(){return Be}function mr(n,e){return ar(_n,n,e)}function lr(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gl(n){return Ai=Ln=1,zl=lt(_n=n),Be=0,[]}function Wl(n){return _n="",n}function ri(n){return Hl(mr(Be-1,Ks(n===91?n+2:n===40?n+1:n)))}function lh(n){for(;(Se=ct())&&Se<33;)$e();return lr(n)>2||lr(Se)>3?"":" "}function uh(n,e){for(;--e&&$e()&&!(Se<48||Se>102||Se>57&&Se<65||Se>70&&Se<97););return mr(n,ni()+(e<6&&ct()==32&&$e()==32))}function Ks(n){for(;$e();)switch(Se){case n:return Be;case 34:case 39:n!==34&&n!==39&&Ks(Se);break;case 40:n===41&&Ks(n);break;case 92:$e();break}return Be}function ch(n,e){for(;$e()&&n+Se!==57;)if(n+Se===84&&ct()===47)break;return"/*"+mr(e,Be-1)+"*"+xi(n===47?n:$e())}function hh(n){for(;!lr(ct());)$e();return mr(n,Be)}function fh(n){return Wl(ii("",null,null,null,[""],n=Gl(n),0,[0],n))}function ii(n,e,t,r,i,s,o,l,a){for(var c=0,h=0,p=o,d=0,g=0,m=0,v=1,b=1,E=1,A=0,T="",R=i,x=s,q=r,M=T;b;)switch(m=A,A=$e()){case 40:if(m!=108&&Oe(M,p-1)==58){Ws(M+=de(ri(A),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:M+=ri(A);break;case 9:case 10:case 13:case 32:M+=lh(m);break;case 92:M+=uh(ni()-1,7);continue;case 47:switch(ct()){case 42:case 47:Fr(dh(ch($e(),ni()),e,t),a);break;default:M+="/"}break;case 123*v:l[c++]=lt(M)*E;case 125*v:case 59:case 0:switch(A){case 0:case 125:b=0;case 59+h:E==-1&&(M=de(M,/\f/g,"")),g>0&&lt(M)-p&&Fr(g>32?ea(M+";",r,t,p-1):ea(de(M," ","")+";",r,t,p-2),a);break;case 59:M+=";";default:if(Fr(q=Jo(M,e,t,c,h,i,l,T,R=[],x=[],p),s),A===123)if(h===0)ii(M,e,q,q,R,s,p,l,x);else switch(d===99&&Oe(M,3)===110?100:d){case 100:case 108:case 109:case 115:ii(n,q,q,r&&Fr(Jo(n,q,q,0,0,i,l,T,i,R=[],p),x),i,x,p,l,r?R:x);break;default:ii(M,q,q,q,[""],x,0,l,x)}}c=h=g=0,v=E=1,T=M="",p=o;break;case 58:p=1+lt(M),g=m;default:if(v<1){if(A==123)--v;else if(A==125&&v++==0&&ah()==125)continue}switch(M+=xi(A),A*v){case 38:E=h>0?1:(M+="\f",-1);break;case 44:l[c++]=(lt(M)-1)*E,E=1;break;case 64:ct()===45&&(M+=ri($e())),d=ct(),h=p=lt(T=M+=hh(ni())),A++;break;case 45:m===45&&lt(M)==2&&(v=0)}}return s}function Jo(n,e,t,r,i,s,o,l,a,c,h){for(var p=i-1,d=i===0?s:[""],g=wo(d),m=0,v=0,b=0;m<r;++m)for(var E=0,A=ar(n,p+1,p=th(v=o[m])),T=n;E<g;++E)(T=Hl(v>0?d[E]+" "+A:de(A,/&\f/g,d[E])))&&(a[b++]=T);return Ti(n,e,t,i===0?vo:l,a,c,h)}function dh(n,e,t){return Ti(n,e,t,Ul,xi(oh()),ar(n,2,-2),0)}function ea(n,e,t,r){return Ti(n,e,t,yo,ar(n,0,r),ar(n,r+1,-1),r)}function Tn(n,e){for(var t="",r=wo(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function ph(n,e,t,r){switch(n.type){case eh:if(n.children.length)break;case Jc:case yo:return n.return=n.return||n.value;case Ul:return"";case Vl:return n.return=n.value+"{"+Tn(n.children,r)+"}";case vo:n.value=n.props.join(",")}return lt(t=Tn(n.children,r))?n.return=n.value+"{"+t+"}":""}function gh(n){var e=wo(n);return function(t,r,i,s){for(var o="",l=0;l<e;l++)o+=n[l](t,r,i,s)||"";return o}}function mh(n){return function(e){e.root||(e=e.return)&&n(e)}}var bh=function(e,t,r){for(var i=0,s=0;i=s,s=ct(),i===38&&s===12&&(t[r]=1),!lr(s);)$e();return mr(e,Be)},vh=function(e,t){var r=-1,i=44;do switch(lr(i)){case 0:i===38&&ct()===12&&(t[r]=1),e[r]+=bh(Be-1,t,r);break;case 2:e[r]+=ri(i);break;case 4:if(i===44){e[++r]=ct()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=xi(i)}while(i=$e());return e},yh=function(e,t){return Wl(vh(Gl(e),t))},ta=new WeakMap,wh=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!ta.get(r))&&!i){ta.set(e,!0);for(var s=[],o=yh(t,s),l=r.props,a=0,c=0;a<o.length;a++)for(var h=0;h<l.length;h++,c++)e.props[c]=s[a]?o[a].replace(/&\f/g,l[h]):l[h]+" "+o[a]}}},Eh=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Kl(n,e){switch(rh(n,e)){case 5103:return fe+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fe+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return fe+n+li+n+Re+n+n;case 6828:case 4268:return fe+n+Re+n+n;case 6165:return fe+n+Re+"flex-"+n+n;case 5187:return fe+n+de(n,/(\w+).+(:[^]+)/,fe+"box-$1$2"+Re+"flex-$1$2")+n;case 5443:return fe+n+Re+"flex-item-"+de(n,/flex-|-self/,"")+n;case 4675:return fe+n+Re+"flex-line-pack"+de(n,/align-content|flex-|-self/,"")+n;case 5548:return fe+n+Re+de(n,"shrink","negative")+n;case 5292:return fe+n+Re+de(n,"basis","preferred-size")+n;case 6060:return fe+"box-"+de(n,"-grow","")+fe+n+Re+de(n,"grow","positive")+n;case 4554:return fe+de(n,/([^-])(transform)/g,"$1"+fe+"$2")+n;case 6187:return de(de(de(n,/(zoom-|grab)/,fe+"$1"),/(image-set)/,fe+"$1"),n,"")+n;case 5495:case 3959:return de(n,/(image-set\([^]*)/,fe+"$1$`$1");case 4968:return de(de(n,/(.+:)(flex-)?(.*)/,fe+"box-pack:$3"+Re+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fe+n+n;case 4095:case 3583:case 4068:case 2532:return de(n,/(.+)-inline(.+)/,fe+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(lt(n)-1-e>6)switch(Oe(n,e+1)){case 109:if(Oe(n,e+4)!==45)break;case 102:return de(n,/(.+:)(.+)-([^]+)/,"$1"+fe+"$2-$3$1"+li+(Oe(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ws(n,"stretch")?Kl(de(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Oe(n,e+1)!==115)break;case 6444:switch(Oe(n,lt(n)-3-(~Ws(n,"!important")&&10))){case 107:return de(n,":",":"+fe)+n;case 101:return de(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+fe+(Oe(n,14)===45?"inline-":"")+"box$3$1"+fe+"$2$3$1"+Re+"$2box$3")+n}break;case 5936:switch(Oe(n,e+11)){case 114:return fe+n+Re+de(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return fe+n+Re+de(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return fe+n+Re+de(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return fe+n+Re+n+n}return n}var Sh=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case yo:e.return=Kl(e.value,e.length);break;case Vl:return Tn([Yn(e,{value:de(e.value,"@","@"+fe)})],i);case vo:if(e.length)return sh(e.props,function(s){switch(ih(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Tn([Yn(e,{props:[de(s,/:(read-\w+)/,":"+li+"$1")]})],i);case"::placeholder":return Tn([Yn(e,{props:[de(s,/:(plac\w+)/,":"+fe+"input-$1")]}),Yn(e,{props:[de(s,/:(plac\w+)/,":"+li+"$1")]}),Yn(e,{props:[de(s,/:(plac\w+)/,Re+"input-$1")]})],i)}return""})}},xh=[Sh],Ah=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||xh,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),E=1;E<b.length;E++)s[b[E]]=!0;l.push(v)});var a,c=[wh,Eh];{var h,p=[ph,mh(function(v){h.insert(v)})],d=gh(c.concat(i,p)),g=function(b){return Tn(fh(b),d)};a=function(b,E,A,T){h=A,g(b?b+"{"+E.styles+"}":E.styles),T&&(m.inserted[E.name]=!0)}}var m={key:t,sheet:new Qc({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return m.sheet.hydrate(l),m},Es={exports:{}},ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na;function Th(){if(na)return ge;na=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,a=n?Symbol.for("react.async_mode"):60111,c=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function T(x){if(typeof x=="object"&&x!==null){var q=x.$$typeof;switch(q){case e:switch(x=x.type,x){case a:case c:case r:case s:case i:case p:return x;default:switch(x=x&&x.$$typeof,x){case l:case h:case m:case g:case o:return x;default:return q}}case t:return q}}}function R(x){return T(x)===c}return ge.AsyncMode=a,ge.ConcurrentMode=c,ge.ContextConsumer=l,ge.ContextProvider=o,ge.Element=e,ge.ForwardRef=h,ge.Fragment=r,ge.Lazy=m,ge.Memo=g,ge.Portal=t,ge.Profiler=s,ge.StrictMode=i,ge.Suspense=p,ge.isAsyncMode=function(x){return R(x)||T(x)===a},ge.isConcurrentMode=R,ge.isContextConsumer=function(x){return T(x)===l},ge.isContextProvider=function(x){return T(x)===o},ge.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},ge.isForwardRef=function(x){return T(x)===h},ge.isFragment=function(x){return T(x)===r},ge.isLazy=function(x){return T(x)===m},ge.isMemo=function(x){return T(x)===g},ge.isPortal=function(x){return T(x)===t},ge.isProfiler=function(x){return T(x)===s},ge.isStrictMode=function(x){return T(x)===i},ge.isSuspense=function(x){return T(x)===p},ge.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===c||x===s||x===i||x===p||x===d||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===g||x.$$typeof===o||x.$$typeof===l||x.$$typeof===h||x.$$typeof===b||x.$$typeof===E||x.$$typeof===A||x.$$typeof===v)},ge.typeOf=T,ge}var ra;function Oh(){return ra||(ra=1,Es.exports=Th()),Es.exports}var Ss,ia;function Ch(){if(ia)return Ss;ia=1;var n=Oh(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function o(m){return n.isMemo(m)?i:s[m.$$typeof]||e}var l=Object.defineProperty,a=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;function g(m,v,b){if(typeof v!="string"){if(d){var E=p(v);E&&E!==d&&g(m,E,b)}var A=a(v);c&&(A=A.concat(c(v)));for(var T=o(m),R=o(v),x=0;x<A.length;++x){var q=A[x];if(!t[q]&&!(b&&b[q])&&!(R&&R[q])&&!(T&&T[q])){var M=h(v,q);try{l(m,q,M)}catch{}}}}return m}return Ss=g,Ss}Ch();var Nh=!0;function Lh(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var Zl=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Nh===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Ih=function(e,t,r){Zl(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Rh(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _h={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Mh(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var kh=/[A-Z]|^ms/g,qh=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yl=function(e){return e.charCodeAt(1)===45},sa=function(e){return e!=null&&typeof e!="boolean"},xs=Mh(function(n){return Yl(n)?n:n.replace(kh,"-$&").toLowerCase()}),oa=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(qh,function(r,i,s){return ut={name:i,styles:s,next:ut},i})}return _h[e]!==1&&!Yl(e)&&typeof t=="number"&&t!==0?t+"px":t};function ur(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return ut={name:i.name,styles:i.styles,next:ut},i.name;var s=t;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ut={name:o.name,styles:o.styles,next:ut},o=o.next;var l=s.styles+";";return l}return Ph(n,e,t)}case"function":{if(n!==void 0){var a=ut,c=t(n);return ut=a,ur(n,e,c)}break}}var h=t;return h}function Ph(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=ur(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object"){var l=o;sa(l)&&(r+=xs(s)+":"+oa(s,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var a=0;a<o.length;a++)sa(o[a])&&(r+=xs(s)+":"+oa(s,o[a])+";");else{var c=ur(n,e,o);switch(s){case"animation":case"animationName":{r+=xs(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}return r}var aa=/label:\s*([^\s;{]+)\s*(;|$)/g,ut;function Xl(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";ut=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=ur(t,e,s);else{var o=s;i+=o[0]}for(var l=1;l<n.length;l++)if(i+=ur(t,e,n[l]),r){var a=s;i+=a[l]}aa.lastIndex=0;for(var c="",h;(h=aa.exec(i))!==null;)c+="-"+h[1];var p=Rh(i)+c;return{name:p,styles:i,next:ut}}var Dh=function(e){return e()},Bh=Yo.useInsertionEffect?Yo.useInsertionEffect:!1,$h=Bh||Dh,Ql=k.createContext(typeof HTMLElement<"u"?Ah({key:"css"}):null);Ql.Provider;var Fh=function(e){return k.forwardRef(function(t,r){var i=k.useContext(Ql);return e(t,i,r)})},jh=k.createContext({}),Eo={}.hasOwnProperty,Zs="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Uh=function(e,t){var r={};for(var i in t)Eo.call(t,i)&&(r[i]=t[i]);return r[Zs]=e,r},Vh=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Zl(t,r,i),$h(function(){return Ih(t,r,i)}),null},Hh=Fh(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[Zs],s=[r],o="";typeof n.className=="string"?o=Lh(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var l=Xl(s,void 0,k.useContext(jh));o+=e.key+"-"+l.name;var a={};for(var c in n)Eo.call(n,c)&&c!=="css"&&c!==Zs&&(a[c]=n[c]);return a.className=o,t&&(a.ref=t),k.createElement(k.Fragment,null,k.createElement(Vh,{cache:e,serialized:l,isStringTag:typeof i=="string"}),k.createElement(i,a))}),zh=Hh,K=function(e,t){var r=arguments;if(t==null||!Eo.call(t,"css"))return k.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=zh,s[1]=Uh(e,t);for(var o=2;o<i;o++)s[o]=r[o];return k.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(K||(K={}));function So(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Xl(e)}function Gh(){var n=So.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Wh(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const Kh=Math.min,Zh=Math.max,ui=Math.round,jr=Math.floor,ci=n=>({x:n,y:n});function Yh(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Oi(){return typeof window<"u"}function Jl(n){return tu(n)?(n.nodeName||"").toLowerCase():"#document"}function St(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function eu(n){var e;return(e=(tu(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function tu(n){return Oi()?n instanceof Node||n instanceof St(n).Node:!1}function Xh(n){return Oi()?n instanceof Element||n instanceof St(n).Element:!1}function xo(n){return Oi()?n instanceof HTMLElement||n instanceof St(n).HTMLElement:!1}function la(n){return!Oi()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof St(n).ShadowRoot}const Qh=new Set(["inline","contents"]);function nu(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Ao(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Qh.has(i)}function Jh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ef=new Set(["html","body","#document"]);function tf(n){return ef.has(Jl(n))}function Ao(n){return St(n).getComputedStyle(n)}function nf(n){if(Jl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||la(n)&&n.host||eu(n);return la(e)?e.host:e}function ru(n){const e=nf(n);return tf(e)?n.ownerDocument?n.ownerDocument.body:n.body:xo(e)&&nu(e)?e:ru(e)}function hi(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=ru(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=St(i);if(s){const l=Ys(o);return e.concat(o,o.visualViewport||[],nu(i)?i:[],l&&t?hi(l):[])}return e.concat(i,hi(i,[],t))}function Ys(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function rf(n){const e=Ao(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=xo(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,l=ui(t)!==s||ui(r)!==o;return l&&(t=s,r=o),{width:t,height:r,$:l}}function To(n){return Xh(n)?n:n.contextElement}function ua(n){const e=To(n);if(!xo(e))return ci(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=rf(e);let o=(s?ui(t.width):t.width)/r,l=(s?ui(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const sf=ci(0);function of(n){const e=St(n);return!Jh()||!e.visualViewport?sf:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function af(n,e,t){return!1}function ca(n,e,t,r){e===void 0&&(e=!1);const i=n.getBoundingClientRect(),s=To(n);let o=ci(1);e&&(o=ua(n));const l=af()?of(s):ci(0);let a=(i.left+l.x)/o.x,c=(i.top+l.y)/o.y,h=i.width/o.x,p=i.height/o.y;if(s){const d=St(s),g=r;let m=d,v=Ys(m);for(;v&&r&&g!==m;){const b=ua(v),E=v.getBoundingClientRect(),A=Ao(v),T=E.left+(v.clientLeft+parseFloat(A.paddingLeft))*b.x,R=E.top+(v.clientTop+parseFloat(A.paddingTop))*b.y;a*=b.x,c*=b.y,h*=b.x,p*=b.y,a+=T,c+=R,m=St(v),v=Ys(m)}}return Yh({width:h,height:p,x:a,y:c})}function iu(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function lf(n,e){let t=null,r;const i=eu(n);function s(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function o(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const c=n.getBoundingClientRect(),{left:h,top:p,width:d,height:g}=c;if(l||e(),!d||!g)return;const m=jr(p),v=jr(i.clientWidth-(h+d)),b=jr(i.clientHeight-(p+g)),E=jr(h),T={rootMargin:-m+"px "+-v+"px "+-b+"px "+-E+"px",threshold:Zh(0,Kh(1,a))||1};let R=!0;function x(q){const M=q[0].intersectionRatio;if(M!==a){if(!R)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!iu(c,n.getBoundingClientRect())&&o(),R=!1}try{t=new IntersectionObserver(x,{...T,root:i.ownerDocument})}catch{t=new IntersectionObserver(x,T)}t.observe(n)}return o(!0),s}function uf(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,c=To(n),h=i||s?[...c?hi(c):[],...hi(e)]:[];h.forEach(E=>{i&&E.addEventListener("scroll",t,{passive:!0}),s&&E.addEventListener("resize",t)});const p=c&&l?lf(c,t):null;let d=-1,g=null;o&&(g=new ResizeObserver(E=>{let[A]=E;A&&A.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),t()}),c&&!a&&g.observe(c),g.observe(e));let m,v=a?ca(n):null;a&&b();function b(){const E=ca(n);v&&!iu(v,E)&&t(),v=E,m=requestAnimationFrame(b)}return t(),()=>{var E;h.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),p?.(),(E=g)==null||E.disconnect(),g=null,a&&cancelAnimationFrame(m)}}var Xs=k.useLayoutEffect,cf=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],fi=function(){};function hf(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function ff(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&n)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(hf(n,o)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var ha=function(e){return Ef(e)?e.filter(Boolean):Yt(e)==="object"&&e!==null?[e]:[]},su=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Tt(e,cf);return Y({},t)},ye=function(e,t,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,l=e.className;return{css:s(t,e),className:i(r??{},o(t,e),l)}};function Ci(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function df(n){return Ci(n)?window.innerHeight:n.clientHeight}function ou(n){return Ci(n)?window.pageYOffset:n.scrollTop}function di(n,e){if(Ci(n)){window.scrollTo(0,e);return}n.scrollTop=e}function pf(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=n;i=i.parentElement;)if(e=getComputedStyle(i),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function gf(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function Ur(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:fi,i=ou(n),s=e-i,o=10,l=0;function a(){l+=o;var c=gf(l,i,s,t);di(n,c),l<t?window.requestAnimationFrame(a):r(n)}a()}function fa(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>t.bottom?di(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+i,n.scrollHeight)):r.top-i<t.top&&di(n,Math.max(e.offsetTop-i,0))}function mf(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function da(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function bf(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var au=!1,vf={get passive(){return au=!0}},Vr=typeof window<"u"?window:{};Vr.addEventListener&&Vr.removeEventListener&&(Vr.addEventListener("p",fi,vf),Vr.removeEventListener("p",fi,!1));var yf=au;function wf(n){return n!=null}function Ef(n){return Array.isArray(n)}function Hr(n,e,t){return n?e:t}var Sf=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var l=Et(o,1),a=l[0];return!r.includes(a)});return s.reduce(function(o,l){var a=Et(l,2),c=a[0],h=a[1];return o[c]=h,o},{})},xf=["children","innerProps"],Af=["children","innerProps"];function Tf(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,i=n.placement,s=n.shouldScroll,o=n.isFixedPosition,l=n.controlHeight,a=pf(t),c={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return c;var h=a.getBoundingClientRect(),p=h.height,d=t.getBoundingClientRect(),g=d.bottom,m=d.height,v=d.top,b=t.offsetParent.getBoundingClientRect(),E=b.top,A=o?window.innerHeight:df(a),T=ou(a),R=parseInt(getComputedStyle(t).marginBottom,10),x=parseInt(getComputedStyle(t).marginTop,10),q=E-x,M=A-v,B=q+T,X=p-T-v,le=g-A+T+R,y=T+v-x,L=160;switch(i){case"auto":case"bottom":if(M>=m)return{placement:"bottom",maxHeight:e};if(X>=m&&!o)return s&&Ur(a,le,L),{placement:"bottom",maxHeight:e};if(!o&&X>=r||o&&M>=r){s&&Ur(a,le,L);var S=o?M-R:X-R;return{placement:"bottom",maxHeight:S}}if(i==="auto"||o){var P=e,I=o?q:B;return I>=r&&(P=Math.min(I-R-l,e)),{placement:"top",maxHeight:P}}if(i==="bottom")return s&&di(a,le),{placement:"bottom",maxHeight:e};break;case"top":if(q>=m)return{placement:"top",maxHeight:e};if(B>=m&&!o)return s&&Ur(a,y,L),{placement:"top",maxHeight:e};if(!o&&B>=r||o&&q>=r){var C=e;return(!o&&B>=r||o&&q>=r)&&(C=o?q-x:B-x),s&&Ur(a,y,L),{placement:"top",maxHeight:C}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function Of(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var lu=function(e){return e==="auto"?"bottom":e},Cf=function(e,t){var r,i=e.placement,s=e.theme,o=s.borderRadius,l=s.spacing,a=s.colors;return Y((r={label:"menu"},tr(r,Of(i),"100%"),tr(r,"position","absolute"),tr(r,"width","100%"),tr(r,"zIndex",1),r),t?{}:{backgroundColor:a.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},uu=k.createContext(null),Nf=function(e){var t=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,a=e.theme,c=k.useContext(uu)||{},h=c.setPortalPlacement,p=k.useRef(null),d=k.useState(i),g=Et(d,2),m=g[0],v=g[1],b=k.useState(null),E=Et(b,2),A=E[0],T=E[1],R=a.spacing.controlHeight;return Xs(function(){var x=p.current;if(x){var q=o==="fixed",M=l&&!q,B=Tf({maxHeight:i,menuEl:x,minHeight:r,placement:s,shouldScroll:M,isFixedPosition:q,controlHeight:R});v(B.maxHeight),T(B.placement),h?.(B.placement)}},[i,s,o,l,r,h,R]),t({ref:p,placerProps:Y(Y({},e),{},{placement:A||lu(s),maxHeight:m})})},Lf=function(e){var t=e.children,r=e.innerRef,i=e.innerProps;return K("div",Q({},ye(e,"menu",{menu:!0}),{ref:r},i),t)},If=Lf,Rf=function(e,t){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Y({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},_f=function(e){var t=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return K("div",Q({},ye(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),t)},cu=function(e,t){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Y({textAlign:"center"},t?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Mf=cu,kf=cu,qf=function(e){var t=e.children,r=t===void 0?"No options":t,i=e.innerProps,s=Tt(e,xf);return K("div",Q({},ye(Y(Y({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},Pf=function(e){var t=e.children,r=t===void 0?"Loading...":t,i=e.innerProps,s=Tt(e,Af);return K("div",Q({},ye(Y(Y({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},Df=function(e){var t=e.rect,r=e.offset,i=e.position;return{left:t.left,position:i,top:r,width:t.width,zIndex:1}},Bf=function(e){var t=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,l=e.menuPosition,a=k.useRef(null),c=k.useRef(null),h=k.useState(lu(o)),p=Et(h,2),d=p[0],g=p[1],m=k.useMemo(function(){return{setPortalPlacement:g}},[]),v=k.useState(null),b=Et(v,2),E=b[0],A=b[1],T=k.useCallback(function(){if(i){var M=mf(i),B=l==="fixed"?0:window.pageYOffset,X=M[d]+B;(X!==E?.offset||M.left!==E?.rect.left||M.width!==E?.rect.width)&&A({offset:X,rect:M})}},[i,l,d,E?.offset,E?.rect.left,E?.rect.width]);Xs(function(){T()},[T]);var R=k.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&a.current&&(c.current=uf(i,a.current,T,{elementResize:"ResizeObserver"in window}))},[i,T]);Xs(function(){R()},[R]);var x=k.useCallback(function(M){a.current=M,R()},[R]);if(!t&&l!=="fixed"||!E)return null;var q=K("div",Q({ref:x},ye(Y(Y({},e),{},{offset:E.offset,position:l,rect:E.rect}),"menuPortal",{"menu-portal":!0}),s),r);return K(uu.Provider,{value:m},t?Mc.createPortal(q,t):q)},$f=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},Ff=function(e){var t=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return K("div",Q({},ye(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),t)},jf=function(e,t){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Y({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Uf=function(e){var t=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return K("div",Q({},ye(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),t)},Vf=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Hf=function(e){var t=e.children,r=e.innerProps;return K("div",Q({},ye(e,"indicatorsContainer",{indicators:!0}),r),t)},pa,zf=["size"],Gf=["innerProps","isRtl","size"],Wf={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},hu=function(e){var t=e.size,r=Tt(e,zf);return K("svg",Q({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Wf},r))},Oo=function(e){return K(hu,Q({size:20},e),K("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},fu=function(e){return K(hu,Q({size:20},e),K("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},du=function(e,t){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Y({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},Kf=du,Zf=function(e){var t=e.children,r=e.innerProps;return K("div",Q({},ye(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||K(fu,null))},Yf=du,Xf=function(e){var t=e.children,r=e.innerProps;return K("div",Q({},ye(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||K(Oo,null))},Qf=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Y({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},Jf=function(e){var t=e.innerProps;return K("span",Q({},t,ye(e,"indicatorSeparator",{"indicator-separator":!0})))},ed=Gh(pa||(pa=Wh([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),td=function(e,t){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,l=s.spacing.baseUnit;return Y({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?o.neutral60:o.neutral20,padding:l*2})},As=function(e){var t=e.delay,r=e.offset;return K("span",{css:So({animation:"".concat(ed," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},nd=function(e){var t=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=Tt(e,Gf);return K("div",Q({},ye(Y(Y({},o),{},{innerProps:t,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),K(As,{delay:0,offset:r}),K(As,{delay:160,offset:!0}),K(As,{delay:320,offset:!r}))},rd=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,l=s.borderRadius,a=s.spacing;return Y({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},id=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return K("div",Q({ref:s},ye(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":l}),o,{"aria-disabled":r||void 0}),t)},sd=id,od=["data"],ad=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},ld=function(e){var t=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,l=e.headingProps,a=e.innerProps,c=e.label,h=e.theme,p=e.selectProps;return K("div",Q({},ye(e,"group",{group:!0}),a),K(o,Q({},l,{selectProps:p,theme:h,getStyles:i,getClassNames:s,cx:r}),c),K("div",null,t))},ud=function(e,t){var r=e.theme,i=r.colors,s=r.spacing;return Y({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},cd=function(e){var t=su(e);t.data;var r=Tt(t,od);return K("div",Q({},ye(e,"groupHeading",{"group-heading":!0}),r))},hd=ld,fd=["innerRef","isDisabled","isHidden","inputClassName"],dd=function(e,t){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,l=s.colors;return Y(Y({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},pd),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},pu={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},pd={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Y({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},pu)},gd=function(e){return Y({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},pu)},md=function(e){var t=e.cx,r=e.value,i=su(e),s=i.innerRef,o=i.isDisabled,l=i.isHidden,a=i.inputClassName,c=Tt(i,fd);return K("div",Q({},ye(e,"input",{"input-container":!0}),{"data-value":r||""}),K("input",Q({className:t({input:!0},a),ref:s,style:gd(l),disabled:o},c)))},bd=md,vd=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Y({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},yd=function(e,t){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Y({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},wd=function(e,t){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,l=e.isFocused;return Y({alignItems:"center",display:"flex"},t?{}:{borderRadius:s/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},gu=function(e){var t=e.children,r=e.innerProps;return K("div",r,t)},Ed=gu,Sd=gu;function xd(n){var e=n.children,t=n.innerProps;return K("div",Q({role:"button"},t),e||K(Oo,{size:14}))}var Ad=function(e){var t=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,l=e.removeProps,a=e.selectProps,c=r.Container,h=r.Label,p=r.Remove;return K(c,{data:i,innerProps:Y(Y({},ye(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:a},K(h,{data:i,innerProps:Y({},ye(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},t),K(p,{data:i,innerProps:Y(Y({},ye(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},l),selectProps:a}))},Td=Ad,Od=function(e,t){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,l=o.spacing,a=o.colors;return Y({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:s?a.primary:i?a.primary25:"transparent",color:r?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?a.primary:a.primary50}})},Cd=function(e){var t=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,l=e.innerProps;return K("div",Q({},ye(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},l),t)},Nd=Cd,Ld=function(e,t){var r=e.theme,i=r.spacing,s=r.colors;return Y({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Id=function(e){var t=e.children,r=e.innerProps;return K("div",Q({},ye(e,"placeholder",{placeholder:!0}),r),t)},Rd=Id,_d=function(e,t){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Y({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Md=function(e){var t=e.children,r=e.isDisabled,i=e.innerProps;return K("div",Q({},ye(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),t)},kd=Md,qd={ClearIndicator:Xf,Control:sd,DropdownIndicator:Zf,DownChevron:fu,CrossIcon:Oo,Group:hd,GroupHeading:cd,IndicatorsContainer:Hf,IndicatorSeparator:Jf,Input:bd,LoadingIndicator:nd,Menu:If,MenuList:_f,MenuPortal:Bf,LoadingMessage:Pf,NoOptionsMessage:qf,MultiValue:Td,MultiValueContainer:Ed,MultiValueLabel:Sd,MultiValueRemove:xd,Option:Nd,Placeholder:Rd,SelectContainer:Ff,SingleValue:kd,ValueContainer:Uf},Pd=function(e){return Y(Y({},qd),e.components)},ga=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Dd(n,e){return!!(n===e||ga(n)&&ga(e))}function Bd(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Dd(n[t],e[t]))return!1;return!0}function $d(n,e){e===void 0&&(e=Bd);var t=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var o=n.apply(this,i);return t={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){t=null},r}var Fd={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},jd=function(e){return K("span",Q({css:Fd},e))},ma=jd,Ud={guidance:function(e){var t=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,l=e.selectValue,a=e.isDisabled,c=e.isSelected,h=e.isAppleDevice,p=function(v,b){return v&&v.length?"".concat(v.indexOf(b)+1," of ").concat(v.length):""};if(t==="value"&&l)return"value ".concat(o," focused, ").concat(p(l,r),".");if(t==="menu"&&h){var d=a?" disabled":"",g="".concat(c?" selected":"").concat(d);return"".concat(o).concat(g,", ").concat(p(i,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},Vd=function(e){var t=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,l=e.selectValue,a=e.selectProps,c=e.id,h=e.isAppleDevice,p=a.ariaLiveMessages,d=a.getOptionLabel,g=a.inputValue,m=a.isMulti,v=a.isOptionDisabled,b=a.isSearchable,E=a.menuIsOpen,A=a.options,T=a.screenReaderStatus,R=a.tabSelectsValue,x=a.isLoading,q=a["aria-label"],M=a["aria-live"],B=k.useMemo(function(){return Y(Y({},Ud),p||{})},[p]),X=k.useMemo(function(){var I="";if(t&&B.onChange){var C=t.option,_=t.options,$=t.removedValue,F=t.removedValues,D=t.value,ee=function(Z){return Array.isArray(Z)?null:Z},j=$||C||ee(D),W=j?d(j):"",J=_||F||void 0,U=J?J.map(d):[],ne=Y({isDisabled:j&&v(j,l),label:W,labels:U},t);I=B.onChange(ne)}return I},[t,B,v,l,d]),le=k.useMemo(function(){var I="",C=r||i,_=!!(r&&l&&l.includes(r));if(C&&B.onFocus){var $={focused:C,label:d(C),isDisabled:v(C,l),isSelected:_,options:s,context:C===r?"menu":"value",selectValue:l,isAppleDevice:h};I=B.onFocus($)}return I},[r,i,d,v,B,s,l,h]),y=k.useMemo(function(){var I="";if(E&&A.length&&!x&&B.onFilter){var C=T({count:s.length});I=B.onFilter({inputValue:g,resultsMessage:C})}return I},[s,g,E,B,A,T,x]),L=t?.action==="initial-input-focus",S=k.useMemo(function(){var I="";if(B.guidance){var C=i?"value":E?"menu":"input";I=B.guidance({"aria-label":q,context:C,isDisabled:r&&v(r,l),isMulti:m,isSearchable:b,tabSelectsValue:R,isInitialFocus:L})}return I},[q,r,i,m,v,b,E,B,l,R,L]),P=K(k.Fragment,null,K("span",{id:"aria-selection"},X),K("span",{id:"aria-focused"},le),K("span",{id:"aria-results"},y),K("span",{id:"aria-guidance"},S));return K(k.Fragment,null,K(ma,{id:c},L&&P),K(ma,{"aria-live":M,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!L&&P))},Hd=Vd,Qs=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],zd=new RegExp("["+Qs.map(function(n){return n.letters}).join("")+"]","g"),mu={};for(var Ts=0;Ts<Qs.length;Ts++)for(var Os=Qs[Ts],Cs=0;Cs<Os.letters.length;Cs++)mu[Os.letters[Cs]]=Os.base;var bu=function(e){return e.replace(zd,function(t){return mu[t]})},Gd=$d(bu),ba=function(e){return e.replace(/^\s+|\s+$/g,"")},Wd=function(e){return"".concat(e.label," ").concat(e.value)},Kd=function(e){return function(t,r){if(t.data.__isNew__)return!0;var i=Y({ignoreCase:!0,ignoreAccents:!0,stringify:Wd,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,l=i.stringify,a=i.trim,c=i.matchFrom,h=a?ba(r):r,p=a?ba(l(t)):l(t);return s&&(h=h.toLowerCase(),p=p.toLowerCase()),o&&(h=Gd(h),p=bu(p)),c==="start"?p.substr(0,h.length)===h:p.indexOf(h)>-1}},Zd=["innerRef"];function Yd(n){var e=n.innerRef,t=Tt(n,Zd),r=Sf(t,"onExited","in","enter","exit","appear");return K("input",Q({ref:e},r,{css:So({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Xd=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Qd(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,i=n.onTopArrive,s=n.onTopLeave,o=k.useRef(!1),l=k.useRef(!1),a=k.useRef(0),c=k.useRef(null),h=k.useCallback(function(b,E){if(c.current!==null){var A=c.current,T=A.scrollTop,R=A.scrollHeight,x=A.clientHeight,q=c.current,M=E>0,B=R-x-T,X=!1;B>E&&o.current&&(r&&r(b),o.current=!1),M&&l.current&&(s&&s(b),l.current=!1),M&&E>B?(t&&!o.current&&t(b),q.scrollTop=R,X=!0,o.current=!0):!M&&-E>T&&(i&&!l.current&&i(b),q.scrollTop=0,X=!0,l.current=!0),X&&Xd(b)}},[t,r,i,s]),p=k.useCallback(function(b){h(b,b.deltaY)},[h]),d=k.useCallback(function(b){a.current=b.changedTouches[0].clientY},[]),g=k.useCallback(function(b){var E=a.current-b.changedTouches[0].clientY;h(b,E)},[h]),m=k.useCallback(function(b){if(b){var E=yf?{passive:!1}:!1;b.addEventListener("wheel",p,E),b.addEventListener("touchstart",d,E),b.addEventListener("touchmove",g,E)}},[g,d,p]),v=k.useCallback(function(b){b&&(b.removeEventListener("wheel",p,!1),b.removeEventListener("touchstart",d,!1),b.removeEventListener("touchmove",g,!1))},[g,d,p]);return k.useEffect(function(){if(e){var b=c.current;return m(b),function(){v(b)}}},[e,m,v]),function(b){c.current=b}}var va=["boxSizing","height","overflow","paddingRight","position"],ya={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function wa(n){n.cancelable&&n.preventDefault()}function Ea(n){n.stopPropagation()}function Sa(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function xa(){return"ontouchstart"in window||navigator.maxTouchPoints}var Aa=!!(typeof window<"u"&&window.document&&window.document.createElement),Xn=0,yn={capture:!1,passive:!1};function Jd(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,i=k.useRef({}),s=k.useRef(null),o=k.useCallback(function(a){if(Aa){var c=document.body,h=c&&c.style;if(r&&va.forEach(function(m){var v=h&&h[m];i.current[m]=v}),r&&Xn<1){var p=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,g=window.innerWidth-d+p||0;Object.keys(ya).forEach(function(m){var v=ya[m];h&&(h[m]=v)}),h&&(h.paddingRight="".concat(g,"px"))}c&&xa()&&(c.addEventListener("touchmove",wa,yn),a&&(a.addEventListener("touchstart",Sa,yn),a.addEventListener("touchmove",Ea,yn))),Xn+=1}},[r]),l=k.useCallback(function(a){if(Aa){var c=document.body,h=c&&c.style;Xn=Math.max(Xn-1,0),r&&Xn<1&&va.forEach(function(p){var d=i.current[p];h&&(h[p]=d)}),c&&xa()&&(c.removeEventListener("touchmove",wa,yn),a&&(a.removeEventListener("touchstart",Sa,yn),a.removeEventListener("touchmove",Ea,yn)))}},[r]);return k.useEffect(function(){if(e){var a=s.current;return o(a),function(){l(a)}}},[e,o,l]),function(a){s.current=a}}var ep=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},tp={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function np(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,i=r===void 0?!0:r,s=n.onBottomArrive,o=n.onBottomLeave,l=n.onTopArrive,a=n.onTopLeave,c=Qd({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:l,onTopLeave:a}),h=Jd({isEnabled:t}),p=function(g){c(g),h(g)};return K(k.Fragment,null,t&&K("div",{onClick:ep,css:tp}),e(p))}var rp={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},ip=function(e){var t=e.name,r=e.onFocus;return K("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:rp,value:"",onChange:function(){}})},sp=ip;function Co(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function op(){return Co(/^iPhone/i)}function vu(){return Co(/^Mac/i)}function ap(){return Co(/^iPad/i)||vu()&&navigator.maxTouchPoints>1}function lp(){return op()||ap()}function up(){return vu()||lp()}var cp=function(e){return e.label},hp=function(e){return e.label},fp=function(e){return e.value},dp=function(e){return!!e.isDisabled},pp={clearIndicator:Yf,container:$f,control:rd,dropdownIndicator:Kf,group:ad,groupHeading:ud,indicatorsContainer:Vf,indicatorSeparator:Qf,input:dd,loadingIndicator:td,loadingMessage:kf,menu:Cf,menuList:Rf,menuPortal:Df,multiValue:vd,multiValueLabel:yd,multiValueRemove:wd,noOptionsMessage:Mf,option:Od,placeholder:Ld,singleValue:_d,valueContainer:jf},gp={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},mp=4,yu=4,bp=38,vp=yu*2,yp={baseUnit:yu,controlHeight:bp,menuGutter:vp},Ns={borderRadius:mp,colors:gp,spacing:yp},wp={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:da(),captureMenuScroll:!da(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Kd(),formatGroupLabel:cp,getOptionLabel:hp,getOptionValue:fp,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:dp,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!bf(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Ta(n,e,t,r){var i=Su(n,e,t),s=xu(n,e,t),o=Eu(n,e),l=pi(n,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:l,index:r}}function si(n,e){return n.options.map(function(t,r){if("options"in t){var i=t.options.map(function(o,l){return Ta(n,o,e,l)}).filter(function(o){return Ca(n,o)});return i.length>0?{type:"group",data:t,options:i,index:r}:void 0}var s=Ta(n,t,e,r);return Ca(n,s)?s:void 0}).filter(wf)}function wu(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,bo(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function Oa(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,bo(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function Ep(n,e){return wu(si(n,e))}function Ca(n,e){var t=n.inputValue,r=t===void 0?"":t,i=e.data,s=e.isSelected,o=e.label,l=e.value;return(!Tu(n)||!s)&&Au(n,{label:o,value:l,data:i},r)}function Sp(n,e){var t=n.focusedValue,r=n.selectValue,i=r.indexOf(t);if(i>-1){var s=e.indexOf(t);if(s>-1)return t;if(i<e.length)return e[i]}return null}function xp(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Ls=function(e,t){var r,i=(r=e.find(function(s){return s.data===t}))===null||r===void 0?void 0:r.id;return i||null},Eu=function(e,t){return e.getOptionLabel(t)},pi=function(e,t){return e.getOptionValue(t)};function Su(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function xu(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=pi(n,e);return t.some(function(i){return pi(n,i)===r})}function Au(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var Tu=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},Ap=1,Ou=(function(n){Vc(t,n);var e=Gc(t);function t(r){var i;if(jc(this,t),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,c){var h=i.props,p=h.onChange,d=h.name;c.name=d,i.ariaOnChange(a,c),p(a,c)},i.setValue=function(a,c,h){var p=i.props,d=p.closeMenuOnSelect,g=p.isMulti,m=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),d&&(i.setState({inputIsHiddenAfterUpdate:!g}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:c,option:h})},i.selectOption=function(a){var c=i.props,h=c.blurInputOnSelect,p=c.isMulti,d=c.name,g=i.state.selectValue,m=p&&i.isOptionSelected(a,g),v=i.isOptionDisabled(a,g);if(m){var b=i.getOptionValue(a);i.setValue(g.filter(function(E){return i.getOptionValue(E)!==b}),"deselect-option",a)}else if(!v)p?i.setValue([].concat(bo(g),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:d});return}h&&i.blurInput()},i.removeValue=function(a){var c=i.props.isMulti,h=i.state.selectValue,p=i.getOptionValue(a),d=h.filter(function(m){return i.getOptionValue(m)!==p}),g=Hr(c,d,d[0]||null);i.onChange(g,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(Hr(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,c=i.state.selectValue,h=c[c.length-1],p=c.slice(0,c.length-1),d=Hr(a,p,p[0]||null);h&&i.onChange(d,{action:"pop-value",removedValue:h})},i.getFocusedOptionId=function(a){return Ls(i.state.focusableOptionsWithIds,a)},i.getFocusableOptionsWithIds=function(){return Oa(si(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return ff.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(a){return Eu(i.props,a)},i.getOptionValue=function(a){return pi(i.props,a)},i.getStyles=function(a,c){var h=i.props.unstyled,p=pp[a](c,h);p.boxSizing="border-box";var d=i.props.styles[a];return d?d(p,c):p},i.getClassNames=function(a,c){var h,p;return(h=(p=i.props.classNames)[a])===null||h===void 0?void 0:h.call(p,c)},i.getElementId=function(a){return"".concat(i.state.instancePrefix,"-").concat(a)},i.getComponents=function(){return Pd(i.props)},i.buildCategorizedOptions=function(){return si(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return wu(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,c){i.setState({ariaSelection:Y({value:a},c)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var c=i.props,h=c.isMulti,p=c.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Ci(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var c=a.touches,h=c&&c.item(0);h&&(i.initialTouchX=h.clientX,i.initialTouchY=h.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var c=a.touches,h=c&&c.item(0);if(h){var p=Math.abs(h.clientX-i.initialTouchX),d=Math.abs(h.clientY-i.initialTouchY),g=5;i.userIsDragging=p>g||d>g}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var c=i.props.inputValue,h=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(h,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){if(!(i.blockOptionHover||i.state.focusedOption===a)){var c=i.getFocusableOptions(),h=c.indexOf(a);i.setState({focusedOption:a,focusedOptionId:h>-1?i.getFocusedOptionId(a):null})}},i.shouldHideSelectedOptions=function(){return Tu(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var c=i.props,h=c.isMulti,p=c.backspaceRemovesValue,d=c.escapeClearsValue,g=c.inputValue,m=c.isClearable,v=c.isDisabled,b=c.menuIsOpen,E=c.onKeyDown,A=c.tabSelectsValue,T=c.openMenuOnFocus,R=i.state,x=R.focusedOption,q=R.focusedValue,M=R.selectValue;if(!v&&!(typeof E=="function"&&(E(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!h||g)return;i.focusValue("previous");break;case"ArrowRight":if(!h||g)return;i.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(q)i.removeValue(q);else{if(!p)return;h?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!b||!A||!x||T&&i.isOptionSelected(x,M))return;i.selectOption(x);break;case"Enter":if(a.keyCode===229)break;if(b){if(!x||i.isComposing)return;i.selectOption(x);break}return;case"Escape":b?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:g}),i.onMenuClose()):m&&d&&i.clearValue();break;case" ":if(g)return;if(!b){i.openMenu("first");break}if(!x)return;i.selectOption(x);break;case"ArrowUp":b?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":b?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!b)return;i.focusOption("pageup");break;case"PageDown":if(!b)return;i.focusOption("pagedown");break;case"Home":if(!b)return;i.focusOption("first");break;case"End":if(!b)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Ap),i.state.selectValue=ha(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),l=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[l],i.state.focusedOptionId=Ls(s,o[l])}return i}return Uc(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&fa(this.menuListRef,this.focusedOptionRef),up()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,l=s.menuIsOpen,a=this.state.isFocused;(a&&!o&&i.isDisabled||a&&l&&!i.menuIsOpen)&&this.focusInput(),a&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(fa(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,l=o.selectValue,a=o.isFocused,c=this.buildFocusableOptions(),h=i==="first"?0:c.length-1;if(!this.props.isMulti){var p=c.indexOf(l[0]);p>-1&&(h=p)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[h],focusedOptionId:this.getFocusedOptionId(c[h])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=o.indexOf(l);l||(a=-1);var c=o.length-1,h=-1;if(o.length){switch(i){case"previous":a===0?h=0:a===-1?h=c:h=a-1;break;case"next":a>-1&&a<c&&(h=a+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,c=l.indexOf(o);o||(c=-1),i==="up"?a=c>0?c-1:l.length-1:i==="down"?a=(c+1)%l.length:i==="pageup"?(a=c-s,a<0&&(a=0)):i==="pagedown"?(a=c+s,a>l.length-1&&(a=l.length-1)):i==="last"&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ns):Y(Y({},Ns),this.props.theme):Ns})},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,l=this.getClassNames,a=this.getValue,c=this.selectOption,h=this.setValue,p=this.props,d=p.isMulti,g=p.isRtl,m=p.options,v=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:l,getValue:a,hasValue:v,isMulti:d,isRtl:g,options:m,selectOption:c,selectProps:p,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return Su(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return xu(this.props,i,s)}},{key:"filterOption",value:function(i,s){return Au(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:l})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,l=i.inputId,a=i.inputValue,c=i.tabIndex,h=i.form,p=i.menuIsOpen,d=i.required,g=this.getComponents(),m=g.Input,v=this.state,b=v.inputIsHidden,E=v.ariaSelection,A=this.commonProps,T=l||this.getElementId("input"),R=Y(Y(Y({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?E?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?k.createElement(m,Q({},A,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:T,innerRef:this.getInputRef,isDisabled:s,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:h,type:"text",value:a},R)):k.createElement(Yd,Q({id:T,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:fi,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:h,value:""},R))})},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,l=s.MultiValueContainer,a=s.MultiValueLabel,c=s.MultiValueRemove,h=s.SingleValue,p=s.Placeholder,d=this.commonProps,g=this.props,m=g.controlShouldRenderValue,v=g.isDisabled,b=g.isMulti,E=g.inputValue,A=g.placeholder,T=this.state,R=T.selectValue,x=T.focusedValue,q=T.isFocused;if(!this.hasValue()||!m)return E?null:k.createElement(p,Q({},d,{key:"placeholder",isDisabled:v,isFocused:q,innerProps:{id:this.getElementId("placeholder")}}),A);if(b)return R.map(function(B,X){var le=B===x,y="".concat(i.getOptionLabel(B),"-").concat(i.getOptionValue(B));return k.createElement(o,Q({},d,{components:{Container:l,Label:a,Remove:c},isFocused:le,isDisabled:v,key:y,index:X,removeProps:{onClick:function(){return i.removeValue(B)},onTouchEnd:function(){return i.removeValue(B)},onMouseDown:function(S){S.preventDefault()}},data:B}),i.formatOptionLabel(B,"value"))});if(E)return null;var M=R[0];return k.createElement(h,Q({},d,{data:M,isDisabled:v}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,h=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||c)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(s,Q({},o,{innerProps:p,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,h=this.state.isFocused;if(!s||!c)return null;var p={"aria-hidden":"true"};return k.createElement(s,Q({},o,{innerProps:p,isDisabled:a,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var l=this.commonProps,a=this.props.isDisabled,c=this.state.isFocused;return k.createElement(o,Q({},l,{isDisabled:a,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,l=this.props.isDisabled,a=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(s,Q({},o,{innerProps:c,isDisabled:l,isFocused:a}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,l=s.GroupHeading,a=s.Menu,c=s.MenuList,h=s.MenuPortal,p=s.LoadingMessage,d=s.NoOptionsMessage,g=s.Option,m=this.commonProps,v=this.state.focusedOption,b=this.props,E=b.captureMenuScroll,A=b.inputValue,T=b.isLoading,R=b.loadingMessage,x=b.minMenuHeight,q=b.maxMenuHeight,M=b.menuIsOpen,B=b.menuPlacement,X=b.menuPosition,le=b.menuPortalTarget,y=b.menuShouldBlockScroll,L=b.menuShouldScrollIntoView,S=b.noOptionsMessage,P=b.onMenuScrollToTop,I=b.onMenuScrollToBottom;if(!M)return null;var C=function(W,J){var U=W.type,ne=W.data,ie=W.isDisabled,Z=W.isSelected,re=W.label,se=W.value,oe=v===ne,ae=ie?void 0:function(){return i.onOptionHover(ne)},he=ie?void 0:function(){return i.selectOption(ne)},me="".concat(i.getElementId("option"),"-").concat(J),we={id:me,onClick:he,onMouseMove:ae,onMouseOver:ae,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:Z};return k.createElement(g,Q({},m,{innerProps:we,data:ne,isDisabled:ie,isSelected:Z,key:me,label:re,type:U,value:se,isFocused:oe,innerRef:oe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(W.data,"menu"))},_;if(this.hasOptions())_=this.getCategorizedOptions().map(function(j){if(j.type==="group"){var W=j.data,J=j.options,U=j.index,ne="".concat(i.getElementId("group"),"-").concat(U),ie="".concat(ne,"-heading");return k.createElement(o,Q({},m,{key:ne,data:W,options:J,Heading:l,headingProps:{id:ie,data:j.data},label:i.formatGroupLabel(j.data)}),j.options.map(function(Z){return C(Z,"".concat(U,"-").concat(Z.index))}))}else if(j.type==="option")return C(j,"".concat(j.index))});else if(T){var $=R({inputValue:A});if($===null)return null;_=k.createElement(p,m,$)}else{var F=S({inputValue:A});if(F===null)return null;_=k.createElement(d,m,F)}var D={minMenuHeight:x,maxMenuHeight:q,menuPlacement:B,menuPosition:X,menuShouldScrollIntoView:L},ee=k.createElement(Nf,Q({},m,D),function(j){var W=j.ref,J=j.placerProps,U=J.placement,ne=J.maxHeight;return k.createElement(a,Q({},m,D,{innerRef:W,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:T,placement:U}),k.createElement(np,{captureEnabled:E,onTopArrive:P,onBottomArrive:I,lockEnabled:y},function(ie){return k.createElement(c,Q({},m,{innerRef:function(re){i.getMenuListRef(re),ie(re)},innerProps:{role:"listbox","aria-multiselectable":m.isMulti,id:i.getElementId("listbox")},isLoading:T,maxHeight:ne,focusedOption:v}),_)}))});return le||X==="fixed"?k.createElement(h,Q({},m,{appendTo:le,controlElement:this.controlRef,menuPlacement:B,menuPosition:X}),ee):ee}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,l=s.isDisabled,a=s.isMulti,c=s.name,h=s.required,p=this.state.selectValue;if(h&&!this.hasValue()&&!l)return k.createElement(sp,{name:c,onFocus:this.onValueInputFocus});if(!(!c||l))if(a)if(o){var d=p.map(function(v){return i.getOptionValue(v)}).join(o);return k.createElement("input",{name:c,type:"hidden",value:d})}else{var g=p.length>0?p.map(function(v,b){return k.createElement("input",{key:"i-".concat(b),name:c,type:"hidden",value:i.getOptionValue(v)})}):k.createElement("input",{name:c,type:"hidden",value:""});return k.createElement("div",null,g)}else{var m=p[0]?this.getOptionValue(p[0]):"";return k.createElement("input",{name:c,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,l=s.focusedOption,a=s.focusedValue,c=s.isFocused,h=s.selectValue,p=this.getFocusableOptions();return k.createElement(Hd,Q({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:a,isFocused:c,selectValue:h,focusableOptions:p,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,l=i.SelectContainer,a=i.ValueContainer,c=this.props,h=c.className,p=c.id,d=c.isDisabled,g=c.menuIsOpen,m=this.state.isFocused,v=this.commonProps=this.getCommonProps();return k.createElement(l,Q({},v,{className:h,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:m}),this.renderLiveRegion(),k.createElement(s,Q({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:m,menuIsOpen:g}),k.createElement(a,Q({},v,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(o,Q({},v,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,l=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,h=s.isFocused,p=s.prevWasFocused,d=s.instancePrefix,g=i.options,m=i.value,v=i.menuIsOpen,b=i.inputValue,E=i.isMulti,A=ha(m),T={};if(o&&(m!==o.value||g!==o.options||v!==o.menuIsOpen||b!==o.inputValue)){var R=v?Ep(i,A):[],x=v?Oa(si(i,A),"".concat(d,"-option")):[],q=l?Sp(s,A):null,M=xp(s,R),B=Ls(x,M);T={selectValue:A,focusedOption:M,focusedOptionId:B,focusableOptionsWithIds:x,focusedValue:q,clearFocusValueOnUpdate:!1}}var X=a!=null&&i!==o?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},le=c,y=h&&p;return h&&!y&&(le={value:Hr(E,A,A[0]||null),options:A,action:"initial-input-focus"},y=!p),c?.action==="initial-input-focus"&&(le=null),Y(Y(Y({},T),X),{},{prevProps:i,ariaSelection:le,prevWasFocused:y})}}]),t})(k.Component);Ou.defaultProps=wp;var Tp=k.forwardRef(function(n,e){var t=Fc(n);return k.createElement(Ou,Q({ref:e},t))}),Ky=Tp;/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function Na(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function zr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Na(Object(t),!0).forEach(function(r){Np(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Na(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Op(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function La(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Cu(r.key),r)}}function Cp(n,e,t){return e&&La(n.prototype,e),t&&La(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Np(n,e,t){return e=Cu(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gi(){return gi=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},gi.apply(this,arguments)}function Lp(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Cu(n){var e=Lp(n,"string");return typeof e=="symbol"?e:String(e)}var Nu={exports:{}};(function(n){typeof window>"u"||(function(e){var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&(function(){try{return!!new Blob}catch{return!1}})(),i=r&&e.Uint8Array&&(function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}})(),s=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,l=(r||s)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(a){var c,h,p,d,g,m,v,b,E;if(c=a.match(o),!c)throw new Error("invalid data URI");for(h=c[2]?c[1]:"text/plain"+(c[3]||";charset=US-ASCII"),p=!!c[4],d=a.slice(c[0].length),p?g=atob(d):g=decodeURIComponent(d),m=new ArrayBuffer(g.length),v=new Uint8Array(m),b=0;b<g.length;b+=1)v[b]=g.charCodeAt(b);return r?new Blob([i?v:m],{type:h}):(E=new s,E.append(m),E.getBlob(h))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(a,c,h){var p=this;setTimeout(function(){h&&t.toDataURL&&l?a(l(p.toDataURL(c,h))):a(p.mozGetAsFile("blob",c))})}:t.toDataURL&&l&&(t.msToBlob?t.toBlob=function(a,c,h){var p=this;setTimeout(function(){(c&&c!=="image/png"||h)&&t.toDataURL&&l?a(l(p.toDataURL(c,h))):a(p.msToBlob(c))})}:t.toBlob=function(a,c,h){var p=this;setTimeout(function(){a(l(p.toDataURL(c,h)))})})),n.exports?n.exports=l:e.dataURLtoBlob=l})(window)})(Nu);var Ia=Nu.exports,Ip=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},Ra={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},Rp=typeof window<"u"&&typeof window.document<"u",Dt=Rp?window:{},mi=function(e){return e>0&&e<1/0},_p=Array.prototype.slice;function No(n){return Array.from?Array.from(n):_p.call(n)}var Mp=/^image\/.+$/;function Js(n){return Mp.test(n)}function kp(n){var e=Js(n)?n.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var Lu=String.fromCharCode;function qp(n,e,t){var r="",i;for(t+=e,i=e;i<t;i+=1)r+=Lu(n.getUint8(i));return r}var Pp=Dt.btoa;function _a(n,e){for(var t=[],r=8192,i=new Uint8Array(n);i.length>0;)t.push(Lu.apply(null,No(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(Pp(t.join("")))}function Dp(n){var e=new DataView(n),t;try{var r,i,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,l=2;l+1<o;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){i=l;break}l+=1}if(i){var a=i+4,c=i+10;if(qp(e,a,4)==="Exif"){var h=e.getUint16(c);if(r=h===18761,(r||h===19789)&&e.getUint16(c+2,r)===42){var p=e.getUint32(c+4,r);p>=8&&(s=c+p)}}}if(s){var d=e.getUint16(s,r),g,m;for(m=0;m<d;m+=1)if(g=s+m*12+2,e.getUint16(g,r)===274){g+=8,t=e.getUint16(g,r),e.setUint16(g,1,r);break}}}catch{t=1}return t}function Bp(n){var e=0,t=1,r=1;switch(n){case 2:t=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:t,scaleY:r}}var $p=/\.\d*(?:0|9){12}\d*$/;function Ma(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return $p.test(n)?Math.round(n*e)/e:n}function Qn(n){var e=n.aspectRatio,t=n.height,r=n.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",s=mi(r),o=mi(t);if(s&&o){var l=t*e;(i==="contain"||i==="none")&&l>r||i==="cover"&&l<r?t=r/e:r=t*e}else s?t=r/e:o&&(r=t*e);return{width:r,height:t}}function Fp(n){for(var e=No(new Uint8Array(n)),t=e.length,r=[],i=0;i+3<t;){var s=e[i],o=e[i+1];if(s===255&&o===218)break;if(s===255&&o===216)i+=2;else{var l=e[i+2]*256+e[i+3],a=i+l+2,c=e.slice(i,a);r.push(c),i=a}}return r.reduce(function(h,p){return p[0]===255&&p[1]===225?h.concat(p):h},[])}function jp(n,e){var t=No(new Uint8Array(n));if(t[2]!==255||t[3]!==224)return n;var r=t[4]*256+t[5],i=[255,216].concat(e,t.slice(4+r));return new Uint8Array(i)}var Up=Dt.ArrayBuffer,Is=Dt.FileReader,Zt=Dt.URL||Dt.webkitURL,Vp=/\.\w+$/,Hp=Dt.Compressor,Zy=(function(){function n(e,t){Op(this,n),this.file=e,this.exif=[],this.image=new Image,this.options=zr(zr({},Ra),t),this.aborted=!1,this.result=null,this.init()}return Cp(n,[{key:"init",value:function(){var t=this,r=this.file,i=this.options;if(!Ip(r)){this.fail(new Error("The first argument must be a File or Blob object."));return}var s=r.type;if(!Js(s)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Zt||!Is){this.fail(new Error("The current browser does not support image compression."));return}Up||(i.checkOrientation=!1,i.retainExif=!1);var o=s==="image/jpeg",l=o&&i.checkOrientation,a=o&&i.retainExif;if(Zt&&!l&&!a)this.load({url:Zt.createObjectURL(r)});else{var c=new Is;this.reader=c,c.onload=function(h){var p=h.target,d=p.result,g={},m=1;l&&(m=Dp(d),m>1&&gi(g,Bp(m))),a&&(t.exif=Fp(d)),l||a?!Zt||m>1?g.url=_a(d,s):g.url=Zt.createObjectURL(r):g.url=d,t.load(g)},c.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},c.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},c.onloadend=function(){t.reader=null},l||a?c.readAsArrayBuffer(r):c.readAsDataURL(r)}}},{key:"load",value:function(t){var r=this,i=this.file,s=this.image;s.onload=function(){r.draw(zr(zr({},t),{},{naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight}))},s.onabort=function(){r.fail(new Error("Aborted to load the image."))},s.onerror=function(){r.fail(new Error("Failed to load the image."))},Dt.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Dt.navigator.userAgent)&&(s.crossOrigin="anonymous"),s.alt=i.name,s.src=t.url}},{key:"draw",value:function(t){var r=this,i=t.naturalWidth,s=t.naturalHeight,o=t.rotate,l=o===void 0?0:o,a=t.scaleX,c=a===void 0?1:a,h=t.scaleY,p=h===void 0?1:h,d=this.file,g=this.image,m=this.options,v=document.createElement("canvas"),b=v.getContext("2d"),E=Math.abs(l)%180===90,A=(m.resize==="contain"||m.resize==="cover")&&mi(m.width)&&mi(m.height),T=Math.max(m.maxWidth,0)||1/0,R=Math.max(m.maxHeight,0)||1/0,x=Math.max(m.minWidth,0)||0,q=Math.max(m.minHeight,0)||0,M=i/s,B=m.width,X=m.height;if(E){var le=[R,T];T=le[0],R=le[1];var y=[q,x];x=y[0],q=y[1];var L=[X,B];B=L[0],X=L[1]}A&&(M=B/X);var S=Qn({aspectRatio:M,width:T,height:R},"contain");T=S.width,R=S.height;var P=Qn({aspectRatio:M,width:x,height:q},"cover");if(x=P.width,q=P.height,A){var I=Qn({aspectRatio:M,width:B,height:X},m.resize);B=I.width,X=I.height}else{var C=Qn({aspectRatio:M,width:B,height:X}),_=C.width;B=_===void 0?i:_;var $=C.height;X=$===void 0?s:$}B=Math.floor(Ma(Math.min(Math.max(B,x),T))),X=Math.floor(Ma(Math.min(Math.max(X,q),R)));var F=-B/2,D=-X/2,ee=B,j=X,W=[];if(A){var J=0,U=0,ne=i,ie=s,Z=Qn({aspectRatio:M,width:i,height:s},{contain:"cover",cover:"contain"}[m.resize]);ne=Z.width,ie=Z.height,J=(i-ne)/2,U=(s-ie)/2,W.push(J,U,ne,ie)}if(W.push(F,D,ee,j),E){var re=[X,B];B=re[0],X=re[1]}v.width=B,v.height=X,Js(m.mimeType)||(m.mimeType=d.type);var se="transparent";d.size>m.convertSize&&m.convertTypes.indexOf(m.mimeType)>=0&&(m.mimeType="image/jpeg");var oe=m.mimeType==="image/jpeg";if(oe&&(se="#fff"),b.fillStyle=se,b.fillRect(0,0,B,X),m.beforeDraw&&m.beforeDraw.call(this,b,v),!this.aborted&&(b.save(),b.translate(B/2,X/2),b.rotate(l*Math.PI/180),b.scale(c,p),b.drawImage.apply(b,[g].concat(W)),b.restore(),m.drew&&m.drew.call(this,b,v),!this.aborted)){var ae=function(me){if(!r.aborted){var we=function(gt){return r.done({naturalWidth:i,naturalHeight:s,result:gt})};if(me&&oe&&m.retainExif&&r.exif&&r.exif.length>0){var Nt=function(gt){return we(Ia(_a(jp(gt,r.exif),m.mimeType)))};if(me.arrayBuffer)me.arrayBuffer().then(Nt).catch(function(){r.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var Ge=new Is;r.reader=Ge,Ge.onload=function(jt){var gt=jt.target;Nt(gt.result)},Ge.onabort=function(){r.fail(new Error("Aborted to read the compressed image with FileReader."))},Ge.onerror=function(){r.fail(new Error("Failed to read the compressed image with FileReader."))},Ge.onloadend=function(){r.reader=null},Ge.readAsArrayBuffer(me)}}else we(me)}};v.toBlob?v.toBlob(ae,m.mimeType,m.quality):ae(Ia(v.toDataURL(m.mimeType,m.quality)))}}},{key:"done",value:function(t){var r=t.naturalWidth,i=t.naturalHeight,s=t.result,o=this.file,l=this.image,a=this.options;if(Zt&&l.src.indexOf("blob:")===0&&Zt.revokeObjectURL(l.src),s)if(a.strict&&!a.retainExif&&s.size>o.size&&a.mimeType===o.type&&!(a.width>r||a.height>i||a.minWidth>r||a.minHeight>i||a.maxWidth<r||a.maxHeight<i))s=o;else{var c=new Date;s.lastModified=c.getTime(),s.lastModifiedDate=c,s.name=o.name,s.name&&s.type!==o.type&&(s.name=s.name.replace(Vp,kp(s.type)))}else s=o;this.result=s,a.success&&a.success.call(this,s)}},{key:"fail",value:function(t){var r=this.options;if(r.error)r.error.call(this,t);else throw t}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=Hp,n}},{key:"setDefaults",value:function(t){gi(Ra,t)}}]),n})(),Iu=typeof global=="object"&&global&&global.Object===Object&&global,zp=typeof self=="object"&&self&&self.Object===Object&&self,dt=Iu||zp||Function("return this")(),Bt=dt.Symbol,Ru=Object.prototype,Gp=Ru.hasOwnProperty,Wp=Ru.toString,Jn=Bt?Bt.toStringTag:void 0;function Kp(n){var e=Gp.call(n,Jn),t=n[Jn];try{n[Jn]=void 0;var r=!0}catch{}var i=Wp.call(n);return r&&(e?n[Jn]=t:delete n[Jn]),i}var Zp=Object.prototype,Yp=Zp.toString;function Xp(n){return Yp.call(n)}var Qp="[object Null]",Jp="[object Undefined]",ka=Bt?Bt.toStringTag:void 0;function Mn(n){return n==null?n===void 0?Jp:Qp:ka&&ka in Object(n)?Kp(n):Xp(n)}function xt(n){return n!=null&&typeof n=="object"}var Xt=Array.isArray;function $t(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function _u(n){return n}var eg="[object AsyncFunction]",tg="[object Function]",ng="[object GeneratorFunction]",rg="[object Proxy]";function Lo(n){if(!$t(n))return!1;var e=Mn(n);return e==tg||e==ng||e==eg||e==rg}var Rs=dt["__core-js_shared__"],qa=(function(){var n=/[^.]+$/.exec(Rs&&Rs.keys&&Rs.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function ig(n){return!!qa&&qa in n}var sg=Function.prototype,og=sg.toString;function tn(n){if(n!=null){try{return og.call(n)}catch{}try{return n+""}catch{}}return""}var ag=/[\\^$.*+?()[\]{}|]/g,lg=/^\[object .+?Constructor\]$/,ug=Function.prototype,cg=Object.prototype,hg=ug.toString,fg=cg.hasOwnProperty,dg=RegExp("^"+hg.call(fg).replace(ag,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pg(n){if(!$t(n)||ig(n))return!1;var e=Lo(n)?dg:lg;return e.test(tn(n))}function gg(n,e){return n?.[e]}function nn(n,e){var t=gg(n,e);return pg(t)?t:void 0}var eo=nn(dt,"WeakMap"),Pa=Object.create,mg=(function(){function n(){}return function(e){if(!$t(e))return{};if(Pa)return Pa(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function bg(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function vg(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var yg=800,wg=16,Eg=Date.now;function Sg(n){var e=0,t=0;return function(){var r=Eg(),i=wg-(r-t);if(t=r,i>0){if(++e>=yg)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function xg(n){return function(){return n}}var bi=(function(){try{var n=nn(Object,"defineProperty");return n({},"",{}),n}catch{}})(),Ag=bi?function(n,e){return bi(n,"toString",{configurable:!0,enumerable:!1,value:xg(e),writable:!0})}:_u,Tg=Sg(Ag);function Og(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var Cg=9007199254740991,Ng=/^(?:0|[1-9]\d*)$/;function Mu(n,e){var t=typeof n;return e=e??Cg,!!e&&(t=="number"||t!="symbol"&&Ng.test(n))&&n>-1&&n%1==0&&n<e}function Io(n,e,t){e=="__proto__"&&bi?bi(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function br(n,e){return n===e||n!==n&&e!==e}var Lg=Object.prototype,Ig=Lg.hasOwnProperty;function ku(n,e,t){var r=n[e];(!(Ig.call(n,e)&&br(r,t))||t===void 0&&!(e in n))&&Io(n,e,t)}function Rg(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var l=e[s],a=void 0;a===void 0&&(a=n[l]),i?Io(t,l,a):ku(t,l,a)}return t}var Da=Math.max;function _g(n,e,t){return e=Da(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=Da(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=t(o),bg(n,this,l)}}function Mg(n,e){return Tg(_g(n,e,_u),n+"")}var kg=9007199254740991;function qu(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=kg}function Ni(n){return n!=null&&qu(n.length)&&!Lo(n)}function qg(n,e,t){if(!$t(t))return!1;var r=typeof e;return(r=="number"?Ni(t)&&Mu(e,t.length):r=="string"&&e in t)?br(t[e],n):!1}function Pg(n){return Mg(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&qg(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var l=t[r];l&&n(e,l,r,s)}return e})}var Dg=Object.prototype;function Ro(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Dg;return n===t}function Bg(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var $g="[object Arguments]";function Ba(n){return xt(n)&&Mn(n)==$g}var Pu=Object.prototype,Fg=Pu.hasOwnProperty,jg=Pu.propertyIsEnumerable,to=Ba((function(){return arguments})())?Ba:function(n){return xt(n)&&Fg.call(n,"callee")&&!jg.call(n,"callee")};function Ug(){return!1}var Du=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$a=Du&&typeof module=="object"&&module&&!module.nodeType&&module,Vg=$a&&$a.exports===Du,Fa=Vg?dt.Buffer:void 0,Hg=Fa?Fa.isBuffer:void 0,cr=Hg||Ug,zg="[object Arguments]",Gg="[object Array]",Wg="[object Boolean]",Kg="[object Date]",Zg="[object Error]",Yg="[object Function]",Xg="[object Map]",Qg="[object Number]",Jg="[object Object]",em="[object RegExp]",tm="[object Set]",nm="[object String]",rm="[object WeakMap]",im="[object ArrayBuffer]",sm="[object DataView]",om="[object Float32Array]",am="[object Float64Array]",lm="[object Int8Array]",um="[object Int16Array]",cm="[object Int32Array]",hm="[object Uint8Array]",fm="[object Uint8ClampedArray]",dm="[object Uint16Array]",pm="[object Uint32Array]",ve={};ve[om]=ve[am]=ve[lm]=ve[um]=ve[cm]=ve[hm]=ve[fm]=ve[dm]=ve[pm]=!0;ve[zg]=ve[Gg]=ve[im]=ve[Wg]=ve[sm]=ve[Kg]=ve[Zg]=ve[Yg]=ve[Xg]=ve[Qg]=ve[Jg]=ve[em]=ve[tm]=ve[nm]=ve[rm]=!1;function gm(n){return xt(n)&&qu(n.length)&&!!ve[Mn(n)]}function _o(n){return function(e){return n(e)}}var Bu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sr=Bu&&typeof module=="object"&&module&&!module.nodeType&&module,mm=sr&&sr.exports===Bu,_s=mm&&Iu.process,In=(function(){try{var n=sr&&sr.require&&sr.require("util").types;return n||_s&&_s.binding&&_s.binding("util")}catch{}})(),ja=In&&In.isTypedArray,Mo=ja?_o(ja):gm,bm=Object.prototype,vm=bm.hasOwnProperty;function $u(n,e){var t=Xt(n),r=!t&&to(n),i=!t&&!r&&cr(n),s=!t&&!r&&!i&&Mo(n),o=t||r||i||s,l=o?Bg(n.length,String):[],a=l.length;for(var c in n)(e||vm.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Mu(c,a)))&&l.push(c);return l}function Fu(n,e){return function(t){return n(e(t))}}var ym=Fu(Object.keys,Object),wm=Object.prototype,Em=wm.hasOwnProperty;function Sm(n){if(!Ro(n))return ym(n);var e=[];for(var t in Object(n))Em.call(n,t)&&t!="constructor"&&e.push(t);return e}function xm(n){return Ni(n)?$u(n):Sm(n)}function Am(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Tm=Object.prototype,Om=Tm.hasOwnProperty;function Cm(n){if(!$t(n))return Am(n);var e=Ro(n),t=[];for(var r in n)r=="constructor"&&(e||!Om.call(n,r))||t.push(r);return t}function ju(n){return Ni(n)?$u(n,!0):Cm(n)}var hr=nn(Object,"create");function Nm(){this.__data__=hr?hr(null):{},this.size=0}function Lm(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Im="__lodash_hash_undefined__",Rm=Object.prototype,_m=Rm.hasOwnProperty;function Mm(n){var e=this.__data__;if(hr){var t=e[n];return t===Im?void 0:t}return _m.call(e,n)?e[n]:void 0}var km=Object.prototype,qm=km.hasOwnProperty;function Pm(n){var e=this.__data__;return hr?e[n]!==void 0:qm.call(e,n)}var Dm="__lodash_hash_undefined__";function Bm(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=hr&&e===void 0?Dm:e,this}function Qt(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Qt.prototype.clear=Nm;Qt.prototype.delete=Lm;Qt.prototype.get=Mm;Qt.prototype.has=Pm;Qt.prototype.set=Bm;function $m(){this.__data__=[],this.size=0}function Li(n,e){for(var t=n.length;t--;)if(br(n[t][0],e))return t;return-1}var Fm=Array.prototype,jm=Fm.splice;function Um(n){var e=this.__data__,t=Li(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():jm.call(e,t,1),--this.size,!0}function Vm(n){var e=this.__data__,t=Li(e,n);return t<0?void 0:e[t][1]}function Hm(n){return Li(this.__data__,n)>-1}function zm(n,e){var t=this.__data__,r=Li(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Ot(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ot.prototype.clear=$m;Ot.prototype.delete=Um;Ot.prototype.get=Vm;Ot.prototype.has=Hm;Ot.prototype.set=zm;var fr=nn(dt,"Map");function Gm(){this.size=0,this.__data__={hash:new Qt,map:new(fr||Ot),string:new Qt}}function Wm(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Ii(n,e){var t=n.__data__;return Wm(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Km(n){var e=Ii(this,n).delete(n);return this.size-=e?1:0,e}function Zm(n){return Ii(this,n).get(n)}function Ym(n){return Ii(this,n).has(n)}function Xm(n,e){var t=Ii(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function rn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}rn.prototype.clear=Gm;rn.prototype.delete=Km;rn.prototype.get=Zm;rn.prototype.has=Ym;rn.prototype.set=Xm;function Qm(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Uu=Fu(Object.getPrototypeOf,Object),Jm="[object Object]",e1=Function.prototype,t1=Object.prototype,Vu=e1.toString,n1=t1.hasOwnProperty,r1=Vu.call(Object);function i1(n){if(!xt(n)||Mn(n)!=Jm)return!1;var e=Uu(n);if(e===null)return!0;var t=n1.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Vu.call(t)==r1}function s1(){this.__data__=new Ot,this.size=0}function o1(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function a1(n){return this.__data__.get(n)}function l1(n){return this.__data__.has(n)}var u1=200;function c1(n,e){var t=this.__data__;if(t instanceof Ot){var r=t.__data__;if(!fr||r.length<u1-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new rn(r)}return t.set(n,e),this.size=t.size,this}function ht(n){var e=this.__data__=new Ot(n);this.size=e.size}ht.prototype.clear=s1;ht.prototype.delete=o1;ht.prototype.get=a1;ht.prototype.has=l1;ht.prototype.set=c1;var Hu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ua=Hu&&typeof module=="object"&&module&&!module.nodeType&&module,h1=Ua&&Ua.exports===Hu,Va=h1?dt.Buffer:void 0,Ha=Va?Va.allocUnsafe:void 0;function zu(n,e){if(e)return n.slice();var t=n.length,r=Ha?Ha(t):new n.constructor(t);return n.copy(r),r}function f1(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}function d1(){return[]}var p1=Object.prototype,g1=p1.propertyIsEnumerable,za=Object.getOwnPropertySymbols,m1=za?function(n){return n==null?[]:(n=Object(n),f1(za(n),function(e){return g1.call(n,e)}))}:d1;function b1(n,e,t){var r=e(n);return Xt(n)?r:Qm(r,t(n))}function no(n){return b1(n,xm,m1)}var ro=nn(dt,"DataView"),io=nn(dt,"Promise"),so=nn(dt,"Set"),Ga="[object Map]",v1="[object Object]",Wa="[object Promise]",Ka="[object Set]",Za="[object WeakMap]",Ya="[object DataView]",y1=tn(ro),w1=tn(fr),E1=tn(io),S1=tn(so),x1=tn(eo),Ye=Mn;(ro&&Ye(new ro(new ArrayBuffer(1)))!=Ya||fr&&Ye(new fr)!=Ga||io&&Ye(io.resolve())!=Wa||so&&Ye(new so)!=Ka||eo&&Ye(new eo)!=Za)&&(Ye=function(n){var e=Mn(n),t=e==v1?n.constructor:void 0,r=t?tn(t):"";if(r)switch(r){case y1:return Ya;case w1:return Ga;case E1:return Wa;case S1:return Ka;case x1:return Za}return e});var A1=Object.prototype,T1=A1.hasOwnProperty;function O1(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&T1.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var vi=dt.Uint8Array;function ko(n){var e=new n.constructor(n.byteLength);return new vi(e).set(new vi(n)),e}function C1(n,e){var t=ko(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var N1=/\w*$/;function L1(n){var e=new n.constructor(n.source,N1.exec(n));return e.lastIndex=n.lastIndex,e}var Xa=Bt?Bt.prototype:void 0,Qa=Xa?Xa.valueOf:void 0;function I1(n){return Qa?Object(Qa.call(n)):{}}function Gu(n,e){var t=e?ko(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var R1="[object Boolean]",_1="[object Date]",M1="[object Map]",k1="[object Number]",q1="[object RegExp]",P1="[object Set]",D1="[object String]",B1="[object Symbol]",$1="[object ArrayBuffer]",F1="[object DataView]",j1="[object Float32Array]",U1="[object Float64Array]",V1="[object Int8Array]",H1="[object Int16Array]",z1="[object Int32Array]",G1="[object Uint8Array]",W1="[object Uint8ClampedArray]",K1="[object Uint16Array]",Z1="[object Uint32Array]";function Y1(n,e,t){var r=n.constructor;switch(e){case $1:return ko(n);case R1:case _1:return new r(+n);case F1:return C1(n);case j1:case U1:case V1:case H1:case z1:case G1:case W1:case K1:case Z1:return Gu(n,t);case M1:return new r;case k1:case D1:return new r(n);case q1:return L1(n);case P1:return new r;case B1:return I1(n)}}function Wu(n){return typeof n.constructor=="function"&&!Ro(n)?mg(Uu(n)):{}}var X1="[object Map]";function Q1(n){return xt(n)&&Ye(n)==X1}var Ja=In&&In.isMap,J1=Ja?_o(Ja):Q1,eb="[object Set]";function tb(n){return xt(n)&&Ye(n)==eb}var el=In&&In.isSet,nb=el?_o(el):tb,rb=1,Ku="[object Arguments]",ib="[object Array]",sb="[object Boolean]",ob="[object Date]",ab="[object Error]",Zu="[object Function]",lb="[object GeneratorFunction]",ub="[object Map]",cb="[object Number]",Yu="[object Object]",hb="[object RegExp]",fb="[object Set]",db="[object String]",pb="[object Symbol]",gb="[object WeakMap]",mb="[object ArrayBuffer]",bb="[object DataView]",vb="[object Float32Array]",yb="[object Float64Array]",wb="[object Int8Array]",Eb="[object Int16Array]",Sb="[object Int32Array]",xb="[object Uint8Array]",Ab="[object Uint8ClampedArray]",Tb="[object Uint16Array]",Ob="[object Uint32Array]",be={};be[Ku]=be[ib]=be[mb]=be[bb]=be[sb]=be[ob]=be[vb]=be[yb]=be[wb]=be[Eb]=be[Sb]=be[ub]=be[cb]=be[Yu]=be[hb]=be[fb]=be[db]=be[pb]=be[xb]=be[Ab]=be[Tb]=be[Ob]=!0;be[ab]=be[Zu]=be[gb]=!1;function oi(n,e,t,r,i,s){var o,l=e&rb;if(o!==void 0)return o;if(!$t(n))return n;var a=Xt(n);if(a)o=O1(n);else{var c=Ye(n),h=c==Zu||c==lb;if(cr(n))return zu(n,l);if(c==Yu||c==Ku||h&&!i)o=h?{}:Wu(n);else{if(!be[c])return i?n:{};o=Y1(n,c,l)}}s||(s=new ht);var p=s.get(n);if(p)return p;s.set(n,o),nb(n)?n.forEach(function(m){o.add(oi(m,e,t,m,n,s))}):J1(n)&&n.forEach(function(m,v){o.set(v,oi(m,e,t,v,n,s))});var d=no,g=a?void 0:d(n);return Og(g||n,function(m,v){g&&(v=m,m=n[v]),ku(o,v,oi(m,e,t,v,n,s))}),o}var Cb=1,Nb=4;function On(n){return oi(n,Cb|Nb)}var Lb="__lodash_hash_undefined__";function Ib(n){return this.__data__.set(n,Lb),this}function Rb(n){return this.__data__.has(n)}function yi(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new rn;++e<t;)this.add(n[e])}yi.prototype.add=yi.prototype.push=Ib;yi.prototype.has=Rb;function _b(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function Mb(n,e){return n.has(e)}var kb=1,qb=2;function Xu(n,e,t,r,i,s){var o=t&kb,l=n.length,a=e.length;if(l!=a&&!(o&&a>l))return!1;var c=s.get(n),h=s.get(e);if(c&&h)return c==e&&h==n;var p=-1,d=!0,g=t&qb?new yi:void 0;for(s.set(n,e),s.set(e,n);++p<l;){var m=n[p],v=e[p];if(r)var b=o?r(v,m,p,e,n,s):r(m,v,p,n,e,s);if(b!==void 0){if(b)continue;d=!1;break}if(g){if(!_b(e,function(E,A){if(!Mb(g,A)&&(m===E||i(m,E,t,r,s)))return g.push(A)})){d=!1;break}}else if(!(m===v||i(m,v,t,r,s))){d=!1;break}}return s.delete(n),s.delete(e),d}function Pb(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function Db(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var Bb=1,$b=2,Fb="[object Boolean]",jb="[object Date]",Ub="[object Error]",Vb="[object Map]",Hb="[object Number]",zb="[object RegExp]",Gb="[object Set]",Wb="[object String]",Kb="[object Symbol]",Zb="[object ArrayBuffer]",Yb="[object DataView]",tl=Bt?Bt.prototype:void 0,Ms=tl?tl.valueOf:void 0;function Xb(n,e,t,r,i,s,o){switch(t){case Yb:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Zb:return!(n.byteLength!=e.byteLength||!s(new vi(n),new vi(e)));case Fb:case jb:case Hb:return br(+n,+e);case Ub:return n.name==e.name&&n.message==e.message;case zb:case Wb:return n==e+"";case Vb:var l=Pb;case Gb:var a=r&Bb;if(l||(l=Db),n.size!=e.size&&!a)return!1;var c=o.get(n);if(c)return c==e;r|=$b,o.set(n,e);var h=Xu(l(n),l(e),r,i,s,o);return o.delete(n),h;case Kb:if(Ms)return Ms.call(n)==Ms.call(e)}return!1}var Qb=1,Jb=Object.prototype,ev=Jb.hasOwnProperty;function tv(n,e,t,r,i,s){var o=t&Qb,l=no(n),a=l.length,c=no(e),h=c.length;if(a!=h&&!o)return!1;for(var p=a;p--;){var d=l[p];if(!(o?d in e:ev.call(e,d)))return!1}var g=s.get(n),m=s.get(e);if(g&&m)return g==e&&m==n;var v=!0;s.set(n,e),s.set(e,n);for(var b=o;++p<a;){d=l[p];var E=n[d],A=e[d];if(r)var T=o?r(A,E,d,e,n,s):r(E,A,d,n,e,s);if(!(T===void 0?E===A||i(E,A,t,r,s):T)){v=!1;break}b||(b=d=="constructor")}if(v&&!b){var R=n.constructor,x=e.constructor;R!=x&&"constructor"in n&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof x=="function"&&x instanceof x)&&(v=!1)}return s.delete(n),s.delete(e),v}var nv=1,nl="[object Arguments]",rl="[object Array]",Gr="[object Object]",rv=Object.prototype,il=rv.hasOwnProperty;function iv(n,e,t,r,i,s){var o=Xt(n),l=Xt(e),a=o?rl:Ye(n),c=l?rl:Ye(e);a=a==nl?Gr:a,c=c==nl?Gr:c;var h=a==Gr,p=c==Gr,d=a==c;if(d&&cr(n)){if(!cr(e))return!1;o=!0,h=!1}if(d&&!h)return s||(s=new ht),o||Mo(n)?Xu(n,e,t,r,i,s):Xb(n,e,a,t,r,i,s);if(!(t&nv)){var g=h&&il.call(n,"__wrapped__"),m=p&&il.call(e,"__wrapped__");if(g||m){var v=g?n.value():n,b=m?e.value():e;return s||(s=new ht),i(v,b,t,r,s)}}return d?(s||(s=new ht),tv(n,e,t,r,i,s)):!1}function Qu(n,e,t,r,i){return n===e?!0:n==null||e==null||!xt(n)&&!xt(e)?n!==n&&e!==e:iv(n,e,t,r,Qu,i)}function sv(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var a=o[++i];if(t(s[a],a,s)===!1)break}return e}}var ov=sv();function oo(n,e,t){(t!==void 0&&!br(n[e],t)||t===void 0&&!(e in n))&&Io(n,e,t)}function av(n){return xt(n)&&Ni(n)}function ao(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function lv(n){return Rg(n,ju(n))}function uv(n,e,t,r,i,s,o){var l=ao(n,t),a=ao(e,t),c=o.get(a);if(c){oo(n,t,c);return}var h=s?s(l,a,t+"",n,e,o):void 0,p=h===void 0;if(p){var d=Xt(a),g=!d&&cr(a),m=!d&&!g&&Mo(a);h=a,d||g||m?Xt(l)?h=l:av(l)?h=vg(l):g?(p=!1,h=zu(a,!0)):m?(p=!1,h=Gu(a,!0)):h=[]:i1(a)||to(a)?(h=l,to(l)?h=lv(l):(!$t(l)||Lo(l))&&(h=Wu(a))):p=!1}p&&(o.set(a,h),i(h,a,r,s,o),o.delete(a)),oo(n,t,h)}function Ju(n,e,t,r,i){n!==e&&ov(e,function(s,o){if(i||(i=new ht),$t(s))uv(n,e,o,t,Ju,r,i);else{var l=r?r(ao(n,o),s,o+"",n,e,i):void 0;l===void 0&&(l=s),oo(n,o,l)}},ju)}function _t(n,e){return Qu(n,e)}var qt=Pg(function(n,e,t){Ju(n,e,t)}),z=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(z||{});class ft{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=z.TYPE&z.ATTRIBUTE;this.scope=r.scope!=null?r.scope&z.LEVEL|i:z.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Cn extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const ec=class lo{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new Cn(`Unable to create ${t} blot`);const s=i,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:s.create(r),l=new s(e,o,r);return lo.blots.set(l.domNode,l),l}find(e,t=!1){return lo.find(e,t)}query(e,t=z.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&z.LEVEL&z.BLOCK?r=this.types.block:e&z.LEVEL&z.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&z.LEVEL&r.scope&&t&z.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new Cn("Invalid definition");if(r&&t.blotName==="abstract")throw new Cn("Cannot register abstract class");const s=r?t.blotName:i?t.attrName:void 0;return this.types[s]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(o=>o.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(o=>{(this.tags[o]==null||t.className==null)&&(this.tags[o]=t)}))),t})}};ec.blots=new WeakMap;let Rn=ec;function sl(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class cv extends ft{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){sl(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(sl(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const tt=cv;function ks(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class hv extends ft{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[ks(this.keyName)]=t,!0):!1}remove(e){e.style[ks(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[ks(this.keyName)];return this.canAdd(e,t)?t:""}}const Ft=hv;class fv{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Rn.find(this.domNode);if(e==null)return;const t=ft.keys(this.domNode),r=tt.keys(this.domNode),i=Ft.keys(this.domNode);t.concat(r).concat(i).forEach(s=>{const o=e.scroll.query(s,z.ATTRIBUTE);o instanceof ft&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Ri=fv,tc=class{constructor(e,t){this.scroll=e,this.domNode=t,Rn.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Cn("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Rn.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const s=this.isolate(e,t);if(this.scroll.query(r,z.BLOT)!=null&&i)s.wrap(r,i);else if(this.scroll.query(r,z.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);s.wrap(o),o.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),s=this.split(e);this.parent.insertBefore(i,s||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Cn(`Cannot wrap ${e}`);return r.appendChild(this),r}};tc.blotName="abstract";let nc=tc;const rc=class extends nc{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};rc.scope=z.INLINE_BLOT;let dv=rc;const _e=dv;class pv{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const s=i.length();if(e<s||t&&e===s&&(i.next==null||i.next.length()!==0))return[i,e];e-=s,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,s]=this.find(e);let o=e-s;const l=this.iterator(i);let a=l();for(;a&&o<e+t;){const c=a.length();e>o?r(a,e-o,Math.min(t,o+c-e)):r(a,0,Math.min(c,e+t-o)),o+=c,a=l()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function ol(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(z.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const ic=class Rt extends nc{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Rt.uiClass&&this.uiNode.classList.add(Rt.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new pv,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=ol(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof Cn)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,s)=>{r.deleteAt(i,s)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof Rt?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(t,r,(o,l,a)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&i.push(o),o instanceof Rt&&(i=i.concat(o.descendants(e,l,s))),s-=a}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===z.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof Rt?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(s,o,l)=>{s.formatAt(o,l,r,i)})}insertAt(e,t,r){const[i,s]=this.children.find(e);if(i)i.insertAt(s,t,r);else{const o=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(o)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),s=[[this,e]];return r instanceof Rt?s.concat(r.path(i,t)):(r!=null&&s.push([r,i]),s)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof Rt&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,s,o)=>{const l=i.split(s,t);l!=null&&r.appendChild(l)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(r.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(s);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,o)=>s===o?0:s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let o=null;s.nextSibling!=null&&(o=this.scroll.find(s.nextSibling));const l=ol(s,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};ic.uiClass="";let gv=ic;const Je=gv;function mv(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const wn=class En extends Je{static create(e){return super.create(e)}static formats(e,t){const r=t.query(En.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Ri(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof En||(r=r.wrap(En.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,z.INLINE);if(r==null)return;r instanceof ft?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,z.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof En&&r.prev===this&&mv(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof En&&this.attributes.move(r),r}};wn.allowedChildren=[wn,_e],wn.blotName="inline",wn.scope=z.INLINE_BLOT,wn.tagName="SPAN";let bv=wn;const qo=bv,Sn=class uo extends Je{static create(e){return super.create(e)}static formats(e,t){const r=t.query(uo.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Ri(this.domNode)}format(e,t){const r=this.scroll.query(e,z.BLOCK);r!=null&&(r instanceof ft?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(uo.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,z.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,z.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const s=this.scroll.create(t,r);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};Sn.blotName="block",Sn.scope=z.BLOCK_BLOT,Sn.tagName="P",Sn.allowedChildren=[qo,Sn,_e];let vv=Sn;const dr=vv,co=class extends Je{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};co.blotName="container",co.scope=z.BLOCK_BLOT;let yv=co;const _i=yv;class wv extends _e{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Fe=wv,Ev={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Sv=100,xn=class extends Je{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,Ev),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=z.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const s=(a,c=!0)=>{a==null||a===this||a.domNode.parentNode!=null&&(r.has(a.domNode)||r.set(a.domNode,[]),c&&s(a.parent))},o=a=>{r.has(a.domNode)&&(a instanceof Je&&a.children.forEach(o),r.delete(a.domNode),a.optimize(t))};let l=e;for(let a=0;l.length>0;a+=1){if(a>=Sv)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(c=>{const h=this.find(c.target,!0);h!=null&&(h.domNode===c.target&&(c.type==="childList"?(s(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(p=>{const d=this.find(p,!1);s(d,!1),d instanceof Je&&d.children.forEach(g=>{s(g,!1)})})):c.type==="attributes"&&s(h.prev)),s(h))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const s=this.find(i.target,!0);return s==null?null:r.has(s.domNode)?(r.get(s.domNode).push(i),null):(r.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};xn.blotName="scroll",xn.defaultChild=dr,xn.allowedChildren=[dr,_i],xn.scope=z.BLOCK_BLOT,xn.tagName="DIV";let xv=xn;const Po=xv,ho=class sc extends _e{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof sc&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};ho.blotName="text",ho.scope=z.INLINE_BLOT;let Av=ho;const wi=Av,Tv=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ft,AttributorStore:Ri,BlockBlot:dr,ClassAttributor:tt,ContainerBlot:_i,EmbedBlot:Fe,InlineBlot:qo,LeafBlot:_e,ParentBlot:Je,Registry:Rn,Scope:z,ScrollBlot:Po,StyleAttributor:Ft,TextBlot:wi},Symbol.toStringTag,{value:"Module"}));var Wr={exports:{}},qs,al;function Ov(){if(al)return qs;al=1;var n=-1,e=1,t=0;function r(y,L,S,P,I){if(y===L)return y?[[t,y]]:[];if(S!=null){var C=X(y,L,S);if(C)return C}var _=l(y,L),$=y.substring(0,_);y=y.substring(_),L=L.substring(_),_=c(y,L);var F=y.substring(y.length-_);y=y.substring(0,y.length-_),L=L.substring(0,L.length-_);var D=i(y,L);return $&&D.unshift([t,$]),F&&D.push([t,F]),A(D,I),P&&p(D),D}function i(y,L){var S;if(!y)return[[e,L]];if(!L)return[[n,y]];var P=y.length>L.length?y:L,I=y.length>L.length?L:y,C=P.indexOf(I);if(C!==-1)return S=[[e,P.substring(0,C)],[t,I],[e,P.substring(C+I.length)]],y.length>L.length&&(S[0][0]=S[2][0]=n),S;if(I.length===1)return[[n,y],[e,L]];var _=h(y,L);if(_){var $=_[0],F=_[1],D=_[2],ee=_[3],j=_[4],W=r($,D),J=r(F,ee);return W.concat([[t,j]],J)}return s(y,L)}function s(y,L){for(var S=y.length,P=L.length,I=Math.ceil((S+P)/2),C=I,_=2*I,$=new Array(_),F=new Array(_),D=0;D<_;D++)$[D]=-1,F[D]=-1;$[C+1]=0,F[C+1]=0;for(var ee=S-P,j=ee%2!==0,W=0,J=0,U=0,ne=0,ie=0;ie<I;ie++){for(var Z=-ie+W;Z<=ie-J;Z+=2){var re=C+Z,se;Z===-ie||Z!==ie&&$[re-1]<$[re+1]?se=$[re+1]:se=$[re-1]+1;for(var oe=se-Z;se<S&&oe<P&&y.charAt(se)===L.charAt(oe);)se++,oe++;if($[re]=se,se>S)J+=2;else if(oe>P)W+=2;else if(j){var ae=C+ee-Z;if(ae>=0&&ae<_&&F[ae]!==-1){var he=S-F[ae];if(se>=he)return o(y,L,se,oe)}}}for(var me=-ie+U;me<=ie-ne;me+=2){var ae=C+me,he;me===-ie||me!==ie&&F[ae-1]<F[ae+1]?he=F[ae+1]:he=F[ae-1]+1;for(var we=he-me;he<S&&we<P&&y.charAt(S-he-1)===L.charAt(P-we-1);)he++,we++;if(F[ae]=he,he>S)ne+=2;else if(we>P)U+=2;else if(!j){var re=C+ee-me;if(re>=0&&re<_&&$[re]!==-1){var se=$[re],oe=C+se-re;if(he=S-he,se>=he)return o(y,L,se,oe)}}}}return[[n,y],[e,L]]}function o(y,L,S,P){var I=y.substring(0,S),C=L.substring(0,P),_=y.substring(S),$=L.substring(P),F=r(I,C),D=r(_,$);return F.concat(D)}function l(y,L){if(!y||!L||y.charAt(0)!==L.charAt(0))return 0;for(var S=0,P=Math.min(y.length,L.length),I=P,C=0;S<I;)y.substring(C,I)==L.substring(C,I)?(S=I,C=S):P=I,I=Math.floor((P-S)/2+S);return T(y.charCodeAt(I-1))&&I--,I}function a(y,L){var S=y.length,P=L.length;if(S==0||P==0)return 0;S>P?y=y.substring(S-P):S<P&&(L=L.substring(0,S));var I=Math.min(S,P);if(y==L)return I;for(var C=0,_=1;;){var $=y.substring(I-_),F=L.indexOf($);if(F==-1)return C;_+=F,(F==0||y.substring(I-_)==L.substring(0,_))&&(C=_,_++)}}function c(y,L){if(!y||!L||y.slice(-1)!==L.slice(-1))return 0;for(var S=0,P=Math.min(y.length,L.length),I=P,C=0;S<I;)y.substring(y.length-I,y.length-C)==L.substring(L.length-I,L.length-C)?(S=I,C=S):P=I,I=Math.floor((P-S)/2+S);return R(y.charCodeAt(y.length-I))&&I--,I}function h(y,L){var S=y.length>L.length?y:L,P=y.length>L.length?L:y;if(S.length<4||P.length*2<S.length)return null;function I(J,U,ne){for(var ie=J.substring(ne,ne+Math.floor(J.length/4)),Z=-1,re="",se,oe,ae,he;(Z=U.indexOf(ie,Z+1))!==-1;){var me=l(J.substring(ne),U.substring(Z)),we=c(J.substring(0,ne),U.substring(0,Z));re.length<we+me&&(re=U.substring(Z-we,Z)+U.substring(Z,Z+me),se=J.substring(0,ne-we),oe=J.substring(ne+me),ae=U.substring(0,Z-we),he=U.substring(Z+me))}return re.length*2>=J.length?[se,oe,ae,he,re]:null}var C=I(S,P,Math.ceil(S.length/4)),_=I(S,P,Math.ceil(S.length/2)),$;if(!C&&!_)return null;_?C?$=C[4].length>_[4].length?C:_:$=_:$=C;var F,D,ee,j;y.length>L.length?(F=$[0],D=$[1],ee=$[2],j=$[3]):(ee=$[0],j=$[1],F=$[2],D=$[3]);var W=$[4];return[F,D,ee,j,W]}function p(y){for(var L=!1,S=[],P=0,I=null,C=0,_=0,$=0,F=0,D=0;C<y.length;)y[C][0]==t?(S[P++]=C,_=F,$=D,F=0,D=0,I=y[C][1]):(y[C][0]==e?F+=y[C][1].length:D+=y[C][1].length,I&&I.length<=Math.max(_,$)&&I.length<=Math.max(F,D)&&(y.splice(S[P-1],0,[n,I]),y[S[P-1]+1][0]=e,P--,P--,C=P>0?S[P-1]:-1,_=0,$=0,F=0,D=0,I=null,L=!0)),C++;for(L&&A(y),E(y),C=1;C<y.length;){if(y[C-1][0]==n&&y[C][0]==e){var ee=y[C-1][1],j=y[C][1],W=a(ee,j),J=a(j,ee);W>=J?(W>=ee.length/2||W>=j.length/2)&&(y.splice(C,0,[t,j.substring(0,W)]),y[C-1][1]=ee.substring(0,ee.length-W),y[C+1][1]=j.substring(W),C++):(J>=ee.length/2||J>=j.length/2)&&(y.splice(C,0,[t,ee.substring(0,J)]),y[C-1][0]=e,y[C-1][1]=j.substring(0,j.length-J),y[C+1][0]=n,y[C+1][1]=ee.substring(J),C++),C++}C++}}var d=/[^a-zA-Z0-9]/,g=/\s/,m=/[\r\n]/,v=/\n\r?\n$/,b=/^\r?\n\r?\n/;function E(y){function L(J,U){if(!J||!U)return 6;var ne=J.charAt(J.length-1),ie=U.charAt(0),Z=ne.match(d),re=ie.match(d),se=Z&&ne.match(g),oe=re&&ie.match(g),ae=se&&ne.match(m),he=oe&&ie.match(m),me=ae&&J.match(v),we=he&&U.match(b);return me||we?5:ae||he?4:Z&&!se&&oe?3:se||oe?2:Z||re?1:0}for(var S=1;S<y.length-1;){if(y[S-1][0]==t&&y[S+1][0]==t){var P=y[S-1][1],I=y[S][1],C=y[S+1][1],_=c(P,I);if(_){var $=I.substring(I.length-_);P=P.substring(0,P.length-_),I=$+I.substring(0,I.length-_),C=$+C}for(var F=P,D=I,ee=C,j=L(P,I)+L(I,C);I.charAt(0)===C.charAt(0);){P+=I.charAt(0),I=I.substring(1)+C.charAt(0),C=C.substring(1);var W=L(P,I)+L(I,C);W>=j&&(j=W,F=P,D=I,ee=C)}y[S-1][1]!=F&&(F?y[S-1][1]=F:(y.splice(S-1,1),S--),y[S][1]=D,ee?y[S+1][1]=ee:(y.splice(S+1,1),S--))}S++}}function A(y,L){y.push([t,""]);for(var S=0,P=0,I=0,C="",_="",$;S<y.length;){if(S<y.length-1&&!y[S][1]){y.splice(S,1);continue}switch(y[S][0]){case e:I++,_+=y[S][1],S++;break;case n:P++,C+=y[S][1],S++;break;case t:var F=S-I-P-1;if(L){if(F>=0&&q(y[F][1])){var D=y[F][1].slice(-1);if(y[F][1]=y[F][1].slice(0,-1),C=D+C,_=D+_,!y[F][1]){y.splice(F,1),S--;var ee=F-1;y[ee]&&y[ee][0]===e&&(I++,_=y[ee][1]+_,ee--),y[ee]&&y[ee][0]===n&&(P++,C=y[ee][1]+C,ee--),F=ee}}if(x(y[S][1])){var D=y[S][1].charAt(0);y[S][1]=y[S][1].slice(1),C+=D,_+=D}}if(S<y.length-1&&!y[S][1]){y.splice(S,1);break}if(C.length>0||_.length>0){C.length>0&&_.length>0&&($=l(_,C),$!==0&&(F>=0?y[F][1]+=_.substring(0,$):(y.splice(0,0,[t,_.substring(0,$)]),S++),_=_.substring($),C=C.substring($)),$=c(_,C),$!==0&&(y[S][1]=_.substring(_.length-$)+y[S][1],_=_.substring(0,_.length-$),C=C.substring(0,C.length-$)));var j=I+P;C.length===0&&_.length===0?(y.splice(S-j,j),S=S-j):C.length===0?(y.splice(S-j,j,[e,_]),S=S-j+1):_.length===0?(y.splice(S-j,j,[n,C]),S=S-j+1):(y.splice(S-j,j,[n,C],[e,_]),S=S-j+2)}S!==0&&y[S-1][0]===t?(y[S-1][1]+=y[S][1],y.splice(S,1)):S++,I=0,P=0,C="",_="";break}}y[y.length-1][1]===""&&y.pop();var W=!1;for(S=1;S<y.length-1;)y[S-1][0]===t&&y[S+1][0]===t&&(y[S][1].substring(y[S][1].length-y[S-1][1].length)===y[S-1][1]?(y[S][1]=y[S-1][1]+y[S][1].substring(0,y[S][1].length-y[S-1][1].length),y[S+1][1]=y[S-1][1]+y[S+1][1],y.splice(S-1,1),W=!0):y[S][1].substring(0,y[S+1][1].length)==y[S+1][1]&&(y[S-1][1]+=y[S+1][1],y[S][1]=y[S][1].substring(y[S+1][1].length)+y[S+1][1],y.splice(S+1,1),W=!0)),S++;W&&A(y,L)}function T(y){return y>=55296&&y<=56319}function R(y){return y>=56320&&y<=57343}function x(y){return R(y.charCodeAt(0))}function q(y){return T(y.charCodeAt(y.length-1))}function M(y){for(var L=[],S=0;S<y.length;S++)y[S][1].length>0&&L.push(y[S]);return L}function B(y,L,S,P){return q(y)||x(P)?null:M([[t,y],[n,L],[e,S],[t,P]])}function X(y,L,S){var P=typeof S=="number"?{index:S,length:0}:S.oldRange,I=typeof S=="number"?null:S.newRange,C=y.length,_=L.length;if(P.length===0&&(I===null||I.length===0)){var $=P.index,F=y.slice(0,$),D=y.slice($),ee=I?I.index:null;e:{var j=$+_-C;if(ee!==null&&ee!==j||j<0||j>_)break e;var W=L.slice(0,j),J=L.slice(j);if(J!==D)break e;var U=Math.min($,j),ne=F.slice(0,U),ie=W.slice(0,U);if(ne!==ie)break e;var Z=F.slice(U),re=W.slice(U);return B(ne,Z,re,D)}e:{if(ee!==null&&ee!==$)break e;var se=$,W=L.slice(0,se),J=L.slice(se);if(W!==F)break e;var oe=Math.min(C-se,_-se),ae=D.slice(D.length-oe),he=J.slice(J.length-oe);if(ae!==he)break e;var Z=D.slice(0,D.length-oe),re=J.slice(0,J.length-oe);return B(F,Z,re,ae)}}if(P.length>0&&I&&I.length===0)e:{var ne=y.slice(0,P.index),ae=y.slice(P.index+P.length),U=ne.length,oe=ae.length;if(_<U+oe)break e;var ie=L.slice(0,U),he=L.slice(_-oe);if(ne!==ie||ae!==he)break e;var Z=y.slice(U,C-oe),re=L.slice(U,_-oe);return B(ne,Z,re,ae)}return null}function le(y,L,S,P){return r(y,L,S,P,!0)}return le.INSERT=e,le.DELETE=n,le.EQUAL=t,qs=le,qs}var nr={exports:{}};nr.exports;var ll;function oc(){return ll||(ll=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",c="[object Error]",h="[object Function]",p="[object GeneratorFunction]",d="[object Map]",g="[object Number]",m="[object Object]",v="[object Promise]",b="[object RegExp]",E="[object Set]",A="[object String]",T="[object Symbol]",R="[object WeakMap]",x="[object ArrayBuffer]",q="[object DataView]",M="[object Float32Array]",B="[object Float64Array]",X="[object Int8Array]",le="[object Int16Array]",y="[object Int32Array]",L="[object Uint8Array]",S="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",C=/[\\^$.*+?()[\]{}|]/g,_=/\w*$/,$=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,D={};D[s]=D[o]=D[x]=D[q]=D[l]=D[a]=D[M]=D[B]=D[X]=D[le]=D[y]=D[d]=D[g]=D[m]=D[b]=D[E]=D[A]=D[T]=D[L]=D[S]=D[P]=D[I]=!0,D[c]=D[h]=D[R]=!1;var ee=typeof Mt=="object"&&Mt&&Mt.Object===Object&&Mt,j=typeof self=="object"&&self&&self.Object===Object&&self,W=ee||j||Function("return this")(),J=e&&!e.nodeType&&e,U=J&&!0&&n&&!n.nodeType&&n,ne=U&&U.exports===J;function ie(u,f){return u.set(f[0],f[1]),u}function Z(u,f){return u.add(f),u}function re(u,f){for(var w=-1,O=u?u.length:0;++w<O&&f(u[w],w,u)!==!1;);return u}function se(u,f){for(var w=-1,O=f.length,te=u.length;++w<O;)u[te+w]=f[w];return u}function oe(u,f,w,O){for(var te=-1,G=u?u.length:0;++te<G;)w=f(w,u[te],te,u);return w}function ae(u,f){for(var w=-1,O=Array(u);++w<u;)O[w]=f(w);return O}function he(u,f){return u?.[f]}function me(u){var f=!1;if(u!=null&&typeof u.toString!="function")try{f=!!(u+"")}catch{}return f}function we(u){var f=-1,w=Array(u.size);return u.forEach(function(O,te){w[++f]=[te,O]}),w}function Nt(u,f){return function(w){return u(f(w))}}function Ge(u){var f=-1,w=Array(u.size);return u.forEach(function(O){w[++f]=O}),w}var jt=Array.prototype,gt=Function.prototype,ln=Object.prototype,qn=W["__core-js_shared__"],Sr=(function(){var u=/[^.]+$/.exec(qn&&qn.keys&&qn.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""})(),xr=gt.toString,rt=ln.hasOwnProperty,un=ln.toString,Pi=RegExp("^"+xr.call(rt).replace(C,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=ne?W.Buffer:void 0,cn=W.Symbol,Pn=W.Uint8Array,je=Nt(Object.getPrototypeOf,Object),Ar=Object.create,Tr=ln.propertyIsEnumerable,Di=jt.splice,Dn=Object.getOwnPropertySymbols,hn=Ut?Ut.isBuffer:void 0,Or=Nt(Object.keys,Object),fn=Ke(W,"DataView"),Vt=Ke(W,"Map"),We=Ke(W,"Promise"),dn=Ke(W,"Set"),Bn=Ke(W,"WeakMap"),Ht=Ke(Object,"create"),$n=Me(fn),zt=Me(Vt),Fn=Me(We),jn=Me(dn),Un=Me(Bn),Lt=cn?cn.prototype:void 0,Cr=Lt?Lt.valueOf:void 0;function mt(u){var f=-1,w=u?u.length:0;for(this.clear();++f<w;){var O=u[f];this.set(O[0],O[1])}}function Bi(){this.__data__=Ht?Ht(null):{}}function $i(u){return this.has(u)&&delete this.__data__[u]}function Fi(u){var f=this.__data__;if(Ht){var w=f[u];return w===r?void 0:w}return rt.call(f,u)?f[u]:void 0}function Nr(u){var f=this.__data__;return Ht?f[u]!==void 0:rt.call(f,u)}function Vn(u,f){var w=this.__data__;return w[u]=Ht&&f===void 0?r:f,this}mt.prototype.clear=Bi,mt.prototype.delete=$i,mt.prototype.get=Fi,mt.prototype.has=Nr,mt.prototype.set=Vn;function Ae(u){var f=-1,w=u?u.length:0;for(this.clear();++f<w;){var O=u[f];this.set(O[0],O[1])}}function ji(){this.__data__=[]}function Ui(u){var f=this.__data__,w=gn(f,u);if(w<0)return!1;var O=f.length-1;return w==O?f.pop():Di.call(f,w,1),!0}function Vi(u){var f=this.__data__,w=gn(f,u);return w<0?void 0:f[w][1]}function Hi(u){return gn(this.__data__,u)>-1}function zi(u,f){var w=this.__data__,O=gn(w,u);return O<0?w.push([u,f]):w[O][1]=f,this}Ae.prototype.clear=ji,Ae.prototype.delete=Ui,Ae.prototype.get=Vi,Ae.prototype.has=Hi,Ae.prototype.set=zi;function Ne(u){var f=-1,w=u?u.length:0;for(this.clear();++f<w;){var O=u[f];this.set(O[0],O[1])}}function Gi(){this.__data__={hash:new mt,map:new(Vt||Ae),string:new mt}}function Wi(u){return Wt(this,u).delete(u)}function Ki(u){return Wt(this,u).get(u)}function Zi(u){return Wt(this,u).has(u)}function Yi(u,f){return Wt(this,u).set(u,f),this}Ne.prototype.clear=Gi,Ne.prototype.delete=Wi,Ne.prototype.get=Ki,Ne.prototype.has=Zi,Ne.prototype.set=Yi;function Pe(u){this.__data__=new Ae(u)}function Xi(){this.__data__=new Ae}function Qi(u){return this.__data__.delete(u)}function Ji(u){return this.__data__.get(u)}function es(u){return this.__data__.has(u)}function ts(u,f){var w=this.__data__;if(w instanceof Ae){var O=w.__data__;if(!Vt||O.length<t-1)return O.push([u,f]),this;w=this.__data__=new Ne(O)}return w.set(u,f),this}Pe.prototype.clear=Xi,Pe.prototype.delete=Qi,Pe.prototype.get=Ji,Pe.prototype.has=es,Pe.prototype.set=ts;function pn(u,f){var w=Wn(u)||bn(u)?ae(u.length,String):[],O=w.length,te=!!O;for(var G in u)rt.call(u,G)&&!(te&&(G=="length"||gs(G,O)))&&w.push(G);return w}function Lr(u,f,w){var O=u[f];(!(rt.call(u,f)&&kr(O,w))||w===void 0&&!(f in u))&&(u[f]=w)}function gn(u,f){for(var w=u.length;w--;)if(kr(u[w][0],f))return w;return-1}function it(u,f){return u&&Gn(f,Zn(f),u)}function Hn(u,f,w,O,te,G,ce){var ue;if(O&&(ue=G?O(u,te,G,ce):O(u)),ue!==void 0)return ue;if(!ot(u))return u;var Ee=Wn(u);if(Ee){if(ue=ds(u),!f)return cs(u,ue)}else{var pe=vt(u),Le=pe==h||pe==p;if(qr(u))return mn(u,f);if(pe==m||pe==s||Le&&!G){if(me(u))return G?u:{};if(ue=st(Le?{}:u),!f)return hs(u,it(ue,u))}else{if(!D[pe])return G?u:{};ue=ps(u,pe,Hn,f)}}ce||(ce=new Pe);var De=ce.get(u);if(De)return De;if(ce.set(u,ue),!Ee)var xe=w?fs(u):Zn(u);return re(xe||u,function(Ie,Te){xe&&(Te=Ie,Ie=u[Te]),Lr(ue,Te,Hn(Ie,f,w,O,Te,u,ce))}),ue}function ns(u){return ot(u)?Ar(u):{}}function rs(u,f,w){var O=f(u);return Wn(u)?O:se(O,w(u))}function is(u){return un.call(u)}function ss(u){if(!ot(u)||bs(u))return!1;var f=Kn(u)||me(u)?Pi:$;return f.test(Me(u))}function os(u){if(!_r(u))return Or(u);var f=[];for(var w in Object(u))rt.call(u,w)&&w!="constructor"&&f.push(w);return f}function mn(u,f){if(f)return u.slice();var w=new u.constructor(u.length);return u.copy(w),w}function zn(u){var f=new u.constructor(u.byteLength);return new Pn(f).set(new Pn(u)),f}function Gt(u,f){var w=f?zn(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.byteLength)}function Ir(u,f,w){var O=f?w(we(u),!0):we(u);return oe(O,ie,new u.constructor)}function Rr(u){var f=new u.constructor(u.source,_.exec(u));return f.lastIndex=u.lastIndex,f}function as(u,f,w){var O=f?w(Ge(u),!0):Ge(u);return oe(O,Z,new u.constructor)}function ls(u){return Cr?Object(Cr.call(u)):{}}function us(u,f){var w=f?zn(u.buffer):u.buffer;return new u.constructor(w,u.byteOffset,u.length)}function cs(u,f){var w=-1,O=u.length;for(f||(f=Array(O));++w<O;)f[w]=u[w];return f}function Gn(u,f,w,O){w||(w={});for(var te=-1,G=f.length;++te<G;){var ce=f[te],ue=void 0;Lr(w,ce,ue===void 0?u[ce]:ue)}return w}function hs(u,f){return Gn(u,bt(u),f)}function fs(u){return rs(u,Zn,bt)}function Wt(u,f){var w=u.__data__;return ms(f)?w[typeof f=="string"?"string":"hash"]:w.map}function Ke(u,f){var w=he(u,f);return ss(w)?w:void 0}var bt=Dn?Nt(Dn,Object):ys,vt=is;(fn&&vt(new fn(new ArrayBuffer(1)))!=q||Vt&&vt(new Vt)!=d||We&&vt(We.resolve())!=v||dn&&vt(new dn)!=E||Bn&&vt(new Bn)!=R)&&(vt=function(u){var f=un.call(u),w=f==m?u.constructor:void 0,O=w?Me(w):void 0;if(O)switch(O){case $n:return q;case zt:return d;case Fn:return v;case jn:return E;case Un:return R}return f});function ds(u){var f=u.length,w=u.constructor(f);return f&&typeof u[0]=="string"&&rt.call(u,"index")&&(w.index=u.index,w.input=u.input),w}function st(u){return typeof u.constructor=="function"&&!_r(u)?ns(je(u)):{}}function ps(u,f,w,O){var te=u.constructor;switch(f){case x:return zn(u);case l:case a:return new te(+u);case q:return Gt(u,O);case M:case B:case X:case le:case y:case L:case S:case P:case I:return us(u,O);case d:return Ir(u,O,w);case g:case A:return new te(u);case b:return Rr(u);case E:return as(u,O,w);case T:return ls(u)}}function gs(u,f){return f=f??i,!!f&&(typeof u=="number"||F.test(u))&&u>-1&&u%1==0&&u<f}function ms(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function bs(u){return!!Sr&&Sr in u}function _r(u){var f=u&&u.constructor,w=typeof f=="function"&&f.prototype||ln;return u===w}function Me(u){if(u!=null){try{return xr.call(u)}catch{}try{return u+""}catch{}}return""}function Mr(u){return Hn(u,!0,!0)}function kr(u,f){return u===f||u!==u&&f!==f}function bn(u){return vs(u)&&rt.call(u,"callee")&&(!Tr.call(u,"callee")||un.call(u)==s)}var Wn=Array.isArray;function vn(u){return u!=null&&Pr(u.length)&&!Kn(u)}function vs(u){return Dr(u)&&vn(u)}var qr=hn||ws;function Kn(u){var f=ot(u)?un.call(u):"";return f==h||f==p}function Pr(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=i}function ot(u){var f=typeof u;return!!u&&(f=="object"||f=="function")}function Dr(u){return!!u&&typeof u=="object"}function Zn(u){return vn(u)?pn(u):os(u)}function ys(){return[]}function ws(){return!1}n.exports=Mr})(nr,nr.exports)),nr.exports}var rr={exports:{}};rr.exports;var ul;function ac(){return ul||(ul=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,l="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",d="[object Error]",g="[object Function]",m="[object GeneratorFunction]",v="[object Map]",b="[object Number]",E="[object Null]",A="[object Object]",T="[object Promise]",R="[object Proxy]",x="[object RegExp]",q="[object Set]",M="[object String]",B="[object Symbol]",X="[object Undefined]",le="[object WeakMap]",y="[object ArrayBuffer]",L="[object DataView]",S="[object Float32Array]",P="[object Float64Array]",I="[object Int8Array]",C="[object Int16Array]",_="[object Int32Array]",$="[object Uint8Array]",F="[object Uint8ClampedArray]",D="[object Uint16Array]",ee="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,U={};U[S]=U[P]=U[I]=U[C]=U[_]=U[$]=U[F]=U[D]=U[ee]=!0,U[l]=U[a]=U[y]=U[h]=U[L]=U[p]=U[d]=U[g]=U[v]=U[b]=U[A]=U[x]=U[q]=U[M]=U[le]=!1;var ne=typeof Mt=="object"&&Mt&&Mt.Object===Object&&Mt,ie=typeof self=="object"&&self&&self.Object===Object&&self,Z=ne||ie||Function("return this")(),re=e&&!e.nodeType&&e,se=re&&!0&&n&&!n.nodeType&&n,oe=se&&se.exports===re,ae=oe&&ne.process,he=(function(){try{return ae&&ae.binding&&ae.binding("util")}catch{}})(),me=he&&he.isTypedArray;function we(u,f){for(var w=-1,O=u==null?0:u.length,te=0,G=[];++w<O;){var ce=u[w];f(ce,w,u)&&(G[te++]=ce)}return G}function Nt(u,f){for(var w=-1,O=f.length,te=u.length;++w<O;)u[te+w]=f[w];return u}function Ge(u,f){for(var w=-1,O=u==null?0:u.length;++w<O;)if(f(u[w],w,u))return!0;return!1}function jt(u,f){for(var w=-1,O=Array(u);++w<u;)O[w]=f(w);return O}function gt(u){return function(f){return u(f)}}function ln(u,f){return u.has(f)}function qn(u,f){return u?.[f]}function Sr(u){var f=-1,w=Array(u.size);return u.forEach(function(O,te){w[++f]=[te,O]}),w}function xr(u,f){return function(w){return u(f(w))}}function rt(u){var f=-1,w=Array(u.size);return u.forEach(function(O){w[++f]=O}),w}var un=Array.prototype,Pi=Function.prototype,Ut=Object.prototype,cn=Z["__core-js_shared__"],Pn=Pi.toString,je=Ut.hasOwnProperty,Ar=(function(){var u=/[^.]+$/.exec(cn&&cn.keys&&cn.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""})(),Tr=Ut.toString,Di=RegExp("^"+Pn.call(je).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dn=oe?Z.Buffer:void 0,hn=Z.Symbol,Or=Z.Uint8Array,fn=Ut.propertyIsEnumerable,Vt=un.splice,We=hn?hn.toStringTag:void 0,dn=Object.getOwnPropertySymbols,Bn=Dn?Dn.isBuffer:void 0,Ht=xr(Object.keys,Object),$n=bt(Z,"DataView"),zt=bt(Z,"Map"),Fn=bt(Z,"Promise"),jn=bt(Z,"Set"),Un=bt(Z,"WeakMap"),Lt=bt(Object,"create"),Cr=Me($n),mt=Me(zt),Bi=Me(Fn),$i=Me(jn),Fi=Me(Un),Nr=hn?hn.prototype:void 0,Vn=Nr?Nr.valueOf:void 0;function Ae(u){var f=-1,w=u==null?0:u.length;for(this.clear();++f<w;){var O=u[f];this.set(O[0],O[1])}}function ji(){this.__data__=Lt?Lt(null):{},this.size=0}function Ui(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function Vi(u){var f=this.__data__;if(Lt){var w=f[u];return w===r?void 0:w}return je.call(f,u)?f[u]:void 0}function Hi(u){var f=this.__data__;return Lt?f[u]!==void 0:je.call(f,u)}function zi(u,f){var w=this.__data__;return this.size+=this.has(u)?0:1,w[u]=Lt&&f===void 0?r:f,this}Ae.prototype.clear=ji,Ae.prototype.delete=Ui,Ae.prototype.get=Vi,Ae.prototype.has=Hi,Ae.prototype.set=zi;function Ne(u){var f=-1,w=u==null?0:u.length;for(this.clear();++f<w;){var O=u[f];this.set(O[0],O[1])}}function Gi(){this.__data__=[],this.size=0}function Wi(u){var f=this.__data__,w=mn(f,u);if(w<0)return!1;var O=f.length-1;return w==O?f.pop():Vt.call(f,w,1),--this.size,!0}function Ki(u){var f=this.__data__,w=mn(f,u);return w<0?void 0:f[w][1]}function Zi(u){return mn(this.__data__,u)>-1}function Yi(u,f){var w=this.__data__,O=mn(w,u);return O<0?(++this.size,w.push([u,f])):w[O][1]=f,this}Ne.prototype.clear=Gi,Ne.prototype.delete=Wi,Ne.prototype.get=Ki,Ne.prototype.has=Zi,Ne.prototype.set=Yi;function Pe(u){var f=-1,w=u==null?0:u.length;for(this.clear();++f<w;){var O=u[f];this.set(O[0],O[1])}}function Xi(){this.size=0,this.__data__={hash:new Ae,map:new(zt||Ne),string:new Ae}}function Qi(u){var f=Ke(this,u).delete(u);return this.size-=f?1:0,f}function Ji(u){return Ke(this,u).get(u)}function es(u){return Ke(this,u).has(u)}function ts(u,f){var w=Ke(this,u),O=w.size;return w.set(u,f),this.size+=w.size==O?0:1,this}Pe.prototype.clear=Xi,Pe.prototype.delete=Qi,Pe.prototype.get=Ji,Pe.prototype.has=es,Pe.prototype.set=ts;function pn(u){var f=-1,w=u==null?0:u.length;for(this.__data__=new Pe;++f<w;)this.add(u[f])}function Lr(u){return this.__data__.set(u,r),this}function gn(u){return this.__data__.has(u)}pn.prototype.add=pn.prototype.push=Lr,pn.prototype.has=gn;function it(u){var f=this.__data__=new Ne(u);this.size=f.size}function Hn(){this.__data__=new Ne,this.size=0}function ns(u){var f=this.__data__,w=f.delete(u);return this.size=f.size,w}function rs(u){return this.__data__.get(u)}function is(u){return this.__data__.has(u)}function ss(u,f){var w=this.__data__;if(w instanceof Ne){var O=w.__data__;if(!zt||O.length<t-1)return O.push([u,f]),this.size=++w.size,this;w=this.__data__=new Pe(O)}return w.set(u,f),this.size=w.size,this}it.prototype.clear=Hn,it.prototype.delete=ns,it.prototype.get=rs,it.prototype.has=is,it.prototype.set=ss;function os(u,f){var w=bn(u),O=!w&&kr(u),te=!w&&!O&&vn(u),G=!w&&!O&&!te&&Dr(u),ce=w||O||te||G,ue=ce?jt(u.length,String):[],Ee=ue.length;for(var pe in u)je.call(u,pe)&&!(ce&&(pe=="length"||te&&(pe=="offset"||pe=="parent")||G&&(pe=="buffer"||pe=="byteLength"||pe=="byteOffset")||ps(pe,Ee)))&&ue.push(pe);return ue}function mn(u,f){for(var w=u.length;w--;)if(Mr(u[w][0],f))return w;return-1}function zn(u,f,w){var O=f(u);return bn(u)?O:Nt(O,w(u))}function Gt(u){return u==null?u===void 0?X:E:We&&We in Object(u)?vt(u):_r(u)}function Ir(u){return ot(u)&&Gt(u)==l}function Rr(u,f,w,O,te){return u===f?!0:u==null||f==null||!ot(u)&&!ot(f)?u!==u&&f!==f:as(u,f,w,O,Rr,te)}function as(u,f,w,O,te,G){var ce=bn(u),ue=bn(f),Ee=ce?a:st(u),pe=ue?a:st(f);Ee=Ee==l?A:Ee,pe=pe==l?A:pe;var Le=Ee==A,De=pe==A,xe=Ee==pe;if(xe&&vn(u)){if(!vn(f))return!1;ce=!0,Le=!1}if(xe&&!Le)return G||(G=new it),ce||Dr(u)?Gn(u,f,w,O,te,G):hs(u,f,Ee,w,O,te,G);if(!(w&i)){var Ie=Le&&je.call(u,"__wrapped__"),Te=De&&je.call(f,"__wrapped__");if(Ie||Te){var It=Ie?u.value():u,yt=Te?f.value():f;return G||(G=new it),te(It,yt,w,O,G)}}return xe?(G||(G=new it),fs(u,f,w,O,te,G)):!1}function ls(u){if(!Pr(u)||ms(u))return!1;var f=qr(u)?Di:W;return f.test(Me(u))}function us(u){return ot(u)&&Kn(u.length)&&!!U[Gt(u)]}function cs(u){if(!bs(u))return Ht(u);var f=[];for(var w in Object(u))je.call(u,w)&&w!="constructor"&&f.push(w);return f}function Gn(u,f,w,O,te,G){var ce=w&i,ue=u.length,Ee=f.length;if(ue!=Ee&&!(ce&&Ee>ue))return!1;var pe=G.get(u);if(pe&&G.get(f))return pe==f;var Le=-1,De=!0,xe=w&s?new pn:void 0;for(G.set(u,f),G.set(f,u);++Le<ue;){var Ie=u[Le],Te=f[Le];if(O)var It=ce?O(Te,Ie,Le,f,u,G):O(Ie,Te,Le,u,f,G);if(It!==void 0){if(It)continue;De=!1;break}if(xe){if(!Ge(f,function(yt,Kt){if(!ln(xe,Kt)&&(Ie===yt||te(Ie,yt,w,O,G)))return xe.push(Kt)})){De=!1;break}}else if(!(Ie===Te||te(Ie,Te,w,O,G))){De=!1;break}}return G.delete(u),G.delete(f),De}function hs(u,f,w,O,te,G,ce){switch(w){case L:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case y:return!(u.byteLength!=f.byteLength||!G(new Or(u),new Or(f)));case h:case p:case b:return Mr(+u,+f);case d:return u.name==f.name&&u.message==f.message;case x:case M:return u==f+"";case v:var ue=Sr;case q:var Ee=O&i;if(ue||(ue=rt),u.size!=f.size&&!Ee)return!1;var pe=ce.get(u);if(pe)return pe==f;O|=s,ce.set(u,f);var Le=Gn(ue(u),ue(f),O,te,G,ce);return ce.delete(u),Le;case B:if(Vn)return Vn.call(u)==Vn.call(f)}return!1}function fs(u,f,w,O,te,G){var ce=w&i,ue=Wt(u),Ee=ue.length,pe=Wt(f),Le=pe.length;if(Ee!=Le&&!ce)return!1;for(var De=Ee;De--;){var xe=ue[De];if(!(ce?xe in f:je.call(f,xe)))return!1}var Ie=G.get(u);if(Ie&&G.get(f))return Ie==f;var Te=!0;G.set(u,f),G.set(f,u);for(var It=ce;++De<Ee;){xe=ue[De];var yt=u[xe],Kt=f[xe];if(O)var Zo=ce?O(Kt,yt,xe,f,u,G):O(yt,Kt,xe,u,f,G);if(!(Zo===void 0?yt===Kt||te(yt,Kt,w,O,G):Zo)){Te=!1;break}It||(It=xe=="constructor")}if(Te&&!It){var Br=u.constructor,$r=f.constructor;Br!=$r&&"constructor"in u&&"constructor"in f&&!(typeof Br=="function"&&Br instanceof Br&&typeof $r=="function"&&$r instanceof $r)&&(Te=!1)}return G.delete(u),G.delete(f),Te}function Wt(u){return zn(u,Zn,ds)}function Ke(u,f){var w=u.__data__;return gs(f)?w[typeof f=="string"?"string":"hash"]:w.map}function bt(u,f){var w=qn(u,f);return ls(w)?w:void 0}function vt(u){var f=je.call(u,We),w=u[We];try{u[We]=void 0;var O=!0}catch{}var te=Tr.call(u);return O&&(f?u[We]=w:delete u[We]),te}var ds=dn?function(u){return u==null?[]:(u=Object(u),we(dn(u),function(f){return fn.call(u,f)}))}:ys,st=Gt;($n&&st(new $n(new ArrayBuffer(1)))!=L||zt&&st(new zt)!=v||Fn&&st(Fn.resolve())!=T||jn&&st(new jn)!=q||Un&&st(new Un)!=le)&&(st=function(u){var f=Gt(u),w=f==A?u.constructor:void 0,O=w?Me(w):"";if(O)switch(O){case Cr:return L;case mt:return v;case Bi:return T;case $i:return q;case Fi:return le}return f});function ps(u,f){return f=f??o,!!f&&(typeof u=="number"||J.test(u))&&u>-1&&u%1==0&&u<f}function gs(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function ms(u){return!!Ar&&Ar in u}function bs(u){var f=u&&u.constructor,w=typeof f=="function"&&f.prototype||Ut;return u===w}function _r(u){return Tr.call(u)}function Me(u){if(u!=null){try{return Pn.call(u)}catch{}try{return u+""}catch{}}return""}function Mr(u,f){return u===f||u!==u&&f!==f}var kr=Ir((function(){return arguments})())?Ir:function(u){return ot(u)&&je.call(u,"callee")&&!fn.call(u,"callee")},bn=Array.isArray;function Wn(u){return u!=null&&Kn(u.length)&&!qr(u)}var vn=Bn||ws;function vs(u,f){return Rr(u,f)}function qr(u){if(!Pr(u))return!1;var f=Gt(u);return f==g||f==m||f==c||f==R}function Kn(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=o}function Pr(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function ot(u){return u!=null&&typeof u=="object"}var Dr=me?gt(me):us;function Zn(u){return Wn(u)?os(u):cs(u)}function ys(){return[]}function ws(){return!1}n.exports=vs})(rr,rr.exports)),rr.exports}var Kr={},cl;function Cv(){if(cl)return Kr;cl=1,Object.defineProperty(Kr,"__esModule",{value:!0});const n=oc(),e=ac();var t;return(function(r){function i(a={},c={},h=!1){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});let p=n(c);h||(p=Object.keys(p).reduce((d,g)=>(p[g]!=null&&(d[g]=p[g]),d),{}));for(const d in a)a[d]!==void 0&&c[d]===void 0&&(p[d]=a[d]);return Object.keys(p).length>0?p:void 0}r.compose=i;function s(a={},c={}){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});const h=Object.keys(a).concat(Object.keys(c)).reduce((p,d)=>(e(a[d],c[d])||(p[d]=c[d]===void 0?null:c[d]),p),{});return Object.keys(h).length>0?h:void 0}r.diff=s;function o(a={},c={}){a=a||{};const h=Object.keys(c).reduce((p,d)=>(c[d]!==a[d]&&a[d]!==void 0&&(p[d]=c[d]),p),{});return Object.keys(a).reduce((p,d)=>(a[d]!==c[d]&&c[d]===void 0&&(p[d]=null),p),h)}r.invert=o;function l(a,c,h=!1){if(typeof a!="object")return c;if(typeof c!="object")return;if(!h)return c;const p=Object.keys(c).reduce((d,g)=>(a[g]===void 0&&(d[g]=c[g]),d),{});return Object.keys(p).length>0?p:void 0}r.transform=l})(t||(t={})),Kr.default=t,Kr}var Zr={},hl;function lc(){if(hl)return Zr;hl=1,Object.defineProperty(Zr,"__esModule",{value:!0});var n;return(function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t})(n||(n={})),Zr.default=n,Zr}var Yr={},fl;function Nv(){if(fl)return Yr;fl=1,Object.defineProperty(Yr,"__esModule",{value:!0});const n=lc();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const s=this.offset,o=n.default.length(i);if(r>=o-s?(r=o-s,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(s,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,s=this.next(),o=this.ops.slice(this.index);return this.offset=r,this.index=i,[s].concat(o)}}else return[]}}return Yr.default=e,Yr}var dl;function Lv(){return dl||(dl=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=Ov(),r=oc(),i=ac(),s=Cv();e.AttributeMap=s.default;const o=lc();e.Op=o.default;const l=Nv();e.OpIterator=l.default;const a="\0",c=(p,d)=>{if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);const g=Object.keys(p)[0];if(!g||g!==Object.keys(d)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(d)[0]}`);return[g,p[g],d[g]]};class h{constructor(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]}static registerEmbed(d,g){this.handlers[d]=g}static unregisterEmbed(d){delete this.handlers[d]}static getHandler(d){const g=this.handlers[d];if(!g)throw new Error(`no handlers for embed type "${d}"`);return g}insert(d,g){const m={};return typeof d=="string"&&d.length===0?this:(m.insert=d,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(m.attributes=g),this.push(m))}delete(d){return d<=0?this:this.push({delete:d})}retain(d,g){if(typeof d=="number"&&d<=0)return this;const m={retain:d};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(m.attributes=g),this.push(m)}push(d){let g=this.ops.length,m=this.ops[g-1];if(d=r(d),typeof m=="object"){if(typeof d.delete=="number"&&typeof m.delete=="number")return this.ops[g-1]={delete:m.delete+d.delete},this;if(typeof m.delete=="number"&&d.insert!=null&&(g-=1,m=this.ops[g-1],typeof m!="object"))return this.ops.unshift(d),this;if(i(d.attributes,m.attributes)){if(typeof d.insert=="string"&&typeof m.insert=="string")return this.ops[g-1]={insert:m.insert+d.insert},typeof d.attributes=="object"&&(this.ops[g-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof m.retain=="number")return this.ops[g-1]={retain:m.retain+d.retain},typeof d.attributes=="object"&&(this.ops[g-1].attributes=d.attributes),this}}return g===this.ops.length?this.ops.push(d):this.ops.splice(g,0,d),this}chop(){const d=this.ops[this.ops.length-1];return d&&typeof d.retain=="number"&&!d.attributes&&this.ops.pop(),this}filter(d){return this.ops.filter(d)}forEach(d){this.ops.forEach(d)}map(d){return this.ops.map(d)}partition(d){const g=[],m=[];return this.forEach(v=>{(d(v)?g:m).push(v)}),[g,m]}reduce(d,g){return this.ops.reduce(d,g)}changeLength(){return this.reduce((d,g)=>g.insert?d+o.default.length(g):g.delete?d-g.delete:d,0)}length(){return this.reduce((d,g)=>d+o.default.length(g),0)}slice(d=0,g=1/0){const m=[],v=new l.default(this.ops);let b=0;for(;b<g&&v.hasNext();){let E;b<d?E=v.next(d-b):(E=v.next(g-b),m.push(E)),b+=o.default.length(E)}return new h(m)}compose(d){const g=new l.default(this.ops),m=new l.default(d.ops),v=[],b=m.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){let A=b.retain;for(;g.peekType()==="insert"&&g.peekLength()<=A;)A-=g.peekLength(),v.push(g.next());b.retain-A>0&&m.next(b.retain-A)}const E=new h(v);for(;g.hasNext()||m.hasNext();)if(m.peekType()==="insert")E.push(m.next());else if(g.peekType()==="delete")E.push(g.next());else{const A=Math.min(g.peekLength(),m.peekLength()),T=g.next(A),R=m.next(A);if(R.retain){const x={};if(typeof T.retain=="number")x.retain=typeof R.retain=="number"?A:R.retain;else if(typeof R.retain=="number")T.retain==null?x.insert=T.insert:x.retain=T.retain;else{const M=T.retain==null?"insert":"retain",[B,X,le]=c(T[M],R.retain),y=h.getHandler(B);x[M]={[B]:y.compose(X,le,M==="retain")}}const q=s.default.compose(T.attributes,R.attributes,typeof T.retain=="number");if(q&&(x.attributes=q),E.push(x),!m.hasNext()&&i(E.ops[E.ops.length-1],x)){const M=new h(g.rest());return E.concat(M).chop()}}else typeof R.delete=="number"&&(typeof T.retain=="number"||typeof T.retain=="object"&&T.retain!==null)&&E.push(R)}return E.chop()}concat(d){const g=new h(this.ops.slice());return d.ops.length>0&&(g.push(d.ops[0]),g.ops=g.ops.concat(d.ops.slice(1))),g}diff(d,g){if(this.ops===d.ops)return new h;const m=[this,d].map(T=>T.map(R=>{if(R.insert!=null)return typeof R.insert=="string"?R.insert:a;const x=T===d?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")),v=new h,b=t(m[0],m[1],g,!0),E=new l.default(this.ops),A=new l.default(d.ops);return b.forEach(T=>{let R=T[1].length;for(;R>0;){let x=0;switch(T[0]){case t.INSERT:x=Math.min(A.peekLength(),R),v.push(A.next(x));break;case t.DELETE:x=Math.min(R,E.peekLength()),E.next(x),v.delete(x);break;case t.EQUAL:x=Math.min(E.peekLength(),A.peekLength(),R);const q=E.next(x),M=A.next(x);i(q.insert,M.insert)?v.retain(x,s.default.diff(q.attributes,M.attributes)):v.push(M).delete(x);break}R-=x}}),v.chop()}eachLine(d,g=`
`){const m=new l.default(this.ops);let v=new h,b=0;for(;m.hasNext();){if(m.peekType()!=="insert")return;const E=m.peek(),A=o.default.length(E)-m.peekLength(),T=typeof E.insert=="string"?E.insert.indexOf(g,A)-A:-1;if(T<0)v.push(m.next());else if(T>0)v.push(m.next(T));else{if(d(v,m.next(1).attributes||{},b)===!1)return;b+=1,v=new h}}v.length()>0&&d(v,{},b)}invert(d){const g=new h;return this.reduce((m,v)=>{if(v.insert)g.delete(o.default.length(v));else{if(typeof v.retain=="number"&&v.attributes==null)return g.retain(v.retain),m+v.retain;if(v.delete||typeof v.retain=="number"){const b=v.delete||v.retain;return d.slice(m,m+b).forEach(A=>{v.delete?g.push(A):v.retain&&v.attributes&&g.retain(o.default.length(A),s.default.invert(v.attributes,A.attributes))}),m+b}else if(typeof v.retain=="object"&&v.retain!==null){const b=d.slice(m,m+1),E=new l.default(b.ops).next(),[A,T,R]=c(v.retain,E.insert),x=h.getHandler(A);return g.retain({[A]:x.invert(T,R)},s.default.invert(v.attributes,E.attributes)),m+1}}return m},0),g.chop()}transform(d,g=!1){if(g=!!g,typeof d=="number")return this.transformPosition(d,g);const m=d,v=new l.default(this.ops),b=new l.default(m.ops),E=new h;for(;v.hasNext()||b.hasNext();)if(v.peekType()==="insert"&&(g||b.peekType()!=="insert"))E.retain(o.default.length(v.next()));else if(b.peekType()==="insert")E.push(b.next());else{const A=Math.min(v.peekLength(),b.peekLength()),T=v.next(A),R=b.next(A);if(T.delete)continue;if(R.delete)E.push(R);else{const x=T.retain,q=R.retain;let M=typeof q=="object"&&q!==null?q:A;if(typeof x=="object"&&x!==null&&typeof q=="object"&&q!==null){const B=Object.keys(x)[0];if(B===Object.keys(q)[0]){const X=h.getHandler(B);X&&(M={[B]:X.transform(x[B],q[B],g)})}}E.retain(M,s.default.transform(T.attributes,R.attributes,g))}}return E.chop()}transformPosition(d,g=!1){g=!!g;const m=new l.default(this.ops);let v=0;for(;m.hasNext()&&v<=d;){const b=m.peekLength(),E=m.peekType();if(m.next(),E==="delete"){d-=Math.min(b,d-v);continue}else E==="insert"&&(v<d||!g)&&(d+=b);v+=b}return d}}h.Op=o.default,h.OpIterator=l.default,h.AttributeMap=s.default,h.handlers={},e.default=h,n.exports=h,n.exports.default=h})(Wr,Wr.exports)),Wr.exports}var ze=Lv();const H=Bl(ze);class nt extends Fe{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}nt.blotName="break";nt.tagName="BR";let et=class extends wi{};const Iv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Mi(n){return n.replace(/[&<>"']/g,e=>Iv[e])}class ke extends qo{static allowedChildren=[ke,nt,Fe,et];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const r=ke.order.indexOf(e),i=ke.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(ke.compare(this.statics.blotName,r)<0&&this.scroll.query(r,z.BLOT)){const s=this.isolate(e,t);i&&s.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof ke&&ke.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const pl=1;class Ce extends dr{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=uc(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,r,i){t<=0||(this.scroll.query(r,z.BLOCK)?e+t===this.length()&&this.format(r,i):super.formatAt(e,Math.min(t,this.length()-e-1),r,i),this.cache={})}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r),this.cache={};return}if(t.length===0)return;const i=t.split(`
`),s=i.shift();s.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let o=this;i.reduce((l,a)=>(o=o.split(l,!0),o.insertAt(0,a),a.length),e+s.length)}insertBefore(e,t){const{head:r}=this.children;super.insertBefore(e,t),r instanceof nt&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+pl),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-pl)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const r=super.split(e,t);return this.cache={},r}}Ce.blotName="block";Ce.tagName="P";Ce.defaultChild=nt;Ce.allowedChildren=[nt,ke,Fe,et];class He extends Fe{attach(){super.attach(),this.attributes=new Ri(this.domNode)}delta(){return new H().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,z.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),s=i.pop(),o=i.map(a=>{const c=this.scroll.create(Ce.blotName);return c.insertAt(0,a),c}),l=this.split(e);o.forEach(a=>{this.parent.insertBefore(a,l)}),s&&this.parent.insertBefore(this.scroll.create("text",s),l)}}He.scope=z.BLOCK_BLOT;function uc(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(_e).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),Ue(r,{},e)),new H).insert(`
`,Ue(n))}function Ue(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:Ue(n.parent,e,t)}class Xe extends Fe{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(Xe.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==z.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Xe.CONTENTS.length,r.optimize(),r.formatAt(i,Xe.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof et?this.prev:null,r=t?t.length():0,i=this.next instanceof et?this.next:null,s=i?i.text:"",{textNode:o}=this,l=o.data.split(Xe.CONTENTS).join("");o.data=Xe.CONTENTS;let a;if(t)a=t,(l||i)&&(t.insertAt(t.length(),l+s),i&&i.remove());else if(i)a=i,i.insertAt(0,l);else{const c=document.createTextNode(l);a=this.scroll.create(c),this.parent.insertBefore(a,this)}if(this.remove(),e){const c=(d,g)=>t&&d===t.domNode?g:d===o?r+g-1:i&&d===i.domNode?r+l.length+g:null,h=c(e.start.node,e.start.offset),p=c(e.end.node,e.end.offset);if(h!==null&&p!==null)return{startNode:a.domNode,startOffset:h,endNode:a.domNode,endOffset:p}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Xe.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Ps={exports:{}},gl;function Rv(){return gl||(gl=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(a,c,h){this.fn=a,this.context=c,this.once=h||!1}function s(a,c,h,p,d){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,p||a,d),m=t?t+c:c;return a._events[m]?a._events[m].fn?a._events[m]=[a._events[m],g]:a._events[m].push(g):(a._events[m]=g,a._eventsCount++),a}function o(a,c){--a._eventsCount===0?a._events=new r:delete a._events[c]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,p;if(this._eventsCount===0)return c;for(p in h=this._events)e.call(h,p)&&c.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c){var h=t?t+c:c,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var d=0,g=p.length,m=new Array(g);d<g;d++)m[d]=p[d].fn;return m},l.prototype.listenerCount=function(c){var h=t?t+c:c,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(c,h,p,d,g,m){var v=t?t+c:c;if(!this._events[v])return!1;var b=this._events[v],E=arguments.length,A,T;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,p),!0;case 4:return b.fn.call(b.context,h,p,d),!0;case 5:return b.fn.call(b.context,h,p,d,g),!0;case 6:return b.fn.call(b.context,h,p,d,g,m),!0}for(T=1,A=new Array(E-1);T<E;T++)A[T-1]=arguments[T];b.fn.apply(b.context,A)}else{var R=b.length,x;for(T=0;T<R;T++)switch(b[T].once&&this.removeListener(c,b[T].fn,void 0,!0),E){case 1:b[T].fn.call(b[T].context);break;case 2:b[T].fn.call(b[T].context,h);break;case 3:b[T].fn.call(b[T].context,h,p);break;case 4:b[T].fn.call(b[T].context,h,p,d);break;default:if(!A)for(x=1,A=new Array(E-1);x<E;x++)A[x-1]=arguments[x];b[T].fn.apply(b[T].context,A)}}return!0},l.prototype.on=function(c,h,p){return s(this,c,h,p,!1)},l.prototype.once=function(c,h,p){return s(this,c,h,p,!0)},l.prototype.removeListener=function(c,h,p,d){var g=t?t+c:c;if(!this._events[g])return this;if(!h)return o(this,g),this;var m=this._events[g];if(m.fn)m.fn===h&&(!d||m.once)&&(!p||m.context===p)&&o(this,g);else{for(var v=0,b=[],E=m.length;v<E;v++)(m[v].fn!==h||d&&!m[v].once||p&&m[v].context!==p)&&b.push(m[v]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=t?t+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,n.exports=l})(Ps)),Ps.exports}var _v=Rv();const Mv=Bl(_v),fo=new WeakMap,po=["error","warn","log","info"];let go="warn";function cc(n){if(go&&po.indexOf(n)<=po.indexOf(go)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Ct(n){return po.reduce((e,t)=>(e[t]=cc.bind(console,t,n),e),{})}Ct.level=n=>{go=n};cc.level=Ct.level;const Ds=Ct("quill:events"),kv=["selectionchange","mousedown","mouseup","click"];kv.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=fo.get(i);s&&s.emitter&&s.emitter.handleDOM(...t)})})});class V extends Mv{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Ds.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ds.log.call(Ds,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(s=>{let{node:o,handler:l}=s;(e.target===o||o.contains(e.target))&&l(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}const Bs=Ct("quill:selection");class Jt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class qv{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Jt(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,V.sources.USER),1)}),this.emitter.on(V.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(V.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=s.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?V.sources.SILENT:i)}catch{}})}),this.emitter.on(V.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:s,startOffset:o,endNode:l,endOffset:a}=i.range;this.setNativeRange(s,o,l,a),this.update(V.sources.SILENT)}}),this.update(V.sources.SILENT)}handleComposition(){this.emitter.on(V.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(V.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(V.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,z.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof _e){const s=i.split(r.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[s,o]=this.scroll.leaf(e);if(s==null)return null;if(t>0&&o===s.length()){const[h]=this.scroll.leaf(e+1);if(h){const[p]=this.scroll.line(e),[d]=this.scroll.line(e+1);p===d&&(s=h,o=0)}}[i,o]=s.position(o,!0);const l=document.createRange();if(t>0)return l.setStart(i,o),[s,o]=this.scroll.leaf(e+t),s==null?null:([i,o]=s.position(o,!0),l.setEnd(i,o),l.getBoundingClientRect());let a="left",c;if(i instanceof Text){if(!i.data.length)return null;o<i.data.length?(l.setStart(i,o),l.setEnd(i,o+1)):(l.setStart(i,o-1),l.setEnd(i,o),a="right"),c=l.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;c=s.domNode.getBoundingClientRect(),o>0&&(a="right")}return{bottom:c.top+c.height,height:c.height,left:c[a],right:c[a],top:c.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return Bs.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&$s(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(o=>{const[l,a]=o,c=this.scroll.find(l,!0),h=c.offset(this.scroll);return a===0?h:c instanceof _e?h+c.index(l,a):h+c.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(i,...r);return new Jt(s,i-s)}normalizeNative(e){if(!$s(this.root,e.startContainer)||!e.collapsed&&!$s(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:s}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;r.node=i,r.offset=s}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,s)=>{i=Math.min(t-1,i);const[o,l]=this.scroll.leaf(i);return o?o.position(l,s):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Bs.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||s||e!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const a=document.createRange();a.setStart(e,t),a.setEnd(r,i),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V.sources.API;if(typeof t=="string"&&(r=t,t=!1),Bs.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!_t(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const s=[V.events.SELECTION_CHANGE,On(this.lastRange),On(t),e];this.emitter.emit(V.events.EDITOR_CHANGE,...s),e!==V.sources.SILENT&&this.emitter.emit(...s)}}}function $s(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const Pv=/^[ -~]*$/;class Dv{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=ml(e),i=new H;return $v(r.ops.slice()).reduce((o,l)=>{const a=ze.Op.length(l);let c=l.attributes||{},h=!1,p=!1;if(l.insert!=null){if(i.retain(a),typeof l.insert=="string"){const m=l.insert;p=!m.endsWith(`
`)&&(t<=o||!!this.scroll.descendant(He,o)[0]),this.scroll.insertAt(o,m);const[v,b]=this.scroll.line(o);let E=qt({},Ue(v));if(v instanceof Ce){const[A]=v.descendant(_e,b);A&&(E=qt(E,Ue(A)))}c=ze.AttributeMap.diff(E,c)||{}}else if(typeof l.insert=="object"){const m=Object.keys(l.insert)[0];if(m==null)return o;const v=this.scroll.query(m,z.INLINE)!=null;if(v)(t<=o||this.scroll.descendant(He,o)[0])&&(p=!0);else if(o>0){const[b,E]=this.scroll.descendant(_e,o-1);b instanceof et?b.value()[E]!==`
`&&(h=!0):b instanceof Fe&&b.statics.scope===z.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,m,l.insert[m]),v){const[b]=this.scroll.descendant(_e,o);if(b){const E=qt({},Ue(b));c=ze.AttributeMap.diff(E,c)||{}}}}t+=a}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const m=Object.keys(l.retain)[0];if(m==null)return o;this.scroll.updateEmbedAt(o,m,l.retain[m])}Object.keys(c).forEach(m=>{this.scroll.formatAt(o,a,m,c[m])});const d=h?1:0,g=p?1:0;return t+=d+g,i.retain(d),i.delete(g),o+a+d+g},0),i.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+ze.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new H().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(s=>{this.scroll.lines(e,Math.max(t,1)).forEach(o=>{o.format(s,r[s])})}),this.scroll.optimize();const i=new H().retain(e).retain(t,On(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(s=>{this.scroll.formatAt(e,t,s,r[s])});const i=new H().retain(e).retain(t,On(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new H)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(l=>{const[a]=l;a instanceof Ce?r.push(a):a instanceof _e&&i.push(a)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants(_e,e,t));const[s,o]=[r,i].map(l=>{const a=l.shift();if(a==null)return{};let c=Ue(a);for(;Object.keys(c).length>0;){const h=l.shift();if(h==null)return c;c=Bv(Ue(h),c)}return c});return{...s,...o}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const s=r.length();return r.length()>=i+t&&!(i===0&&t===s)?pr(r,i,t,!0):pr(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=ml(t),i=new H().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new H().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new H().retain(e).insert(t,On(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==Ce.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof nt}removeFormat(e,t){const r=this.getText(e,t),[i,s]=this.scroll.line(e+t);let o=0,l=new H;i!=null&&(o=i.length()-s,l=i.delta().slice(s,s+o-1).insert(`
`));const c=this.getContents(e,t+o).diff(new H().insert(r).concat(l)),h=new H().retain(e).concat(c);return this.applyDelta(h)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(Pv)&&this.scroll.find(t[0].target)){const s=this.scroll.find(t[0].target),o=Ue(s),l=s.offset(this.scroll),a=t[0].oldValue.replace(Xe.CONTENTS,""),c=new H().insert(a),h=new H().insert(s.value()),p=r&&{oldRange:bl(r.oldRange,-l),newRange:bl(r.newRange,-l)};e=new H().retain(l).concat(c.diff(h,p)).reduce((g,m)=>m.insert?g.insert(m.insert,o):g.push(m),new H),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!_t(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}}function An(n,e,t){if(n.length===0){const[g]=Fs(t.pop());return e<=0?`</li></${g}>`:`</li></${g}>${An([],e-1,t)}`}const[{child:r,offset:i,length:s,indent:o,type:l},...a]=n,[c,h]=Fs(l);if(o>e)return t.push(l),o===e+1?`<${c}><li${h}>${pr(r,i,s)}${An(a,o,t)}`:`<${c}><li>${An(n,e+1,t)}`;const p=t[t.length-1];if(o===e&&l===p)return`</li><li${h}>${pr(r,i,s)}${An(a,o,t)}`;const[d]=Fs(t.pop());return`</li></${d}>${An(n,e-1,t)}`}function pr(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof et)return Mi(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Je){if(n.statics.blotName==="list-container"){const c=[];return n.children.forEachAt(e,t,(h,p,d)=>{const g="formats"in h&&typeof h.formats=="function"?h.formats():{};c.push({child:h,offset:p,length:d,indent:g.indent||0,type:g.list})}),An(c,-1,[])}const i=[];if(n.children.forEachAt(e,t,(c,h,p)=>{i.push(pr(c,h,p))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:o}=n.domNode,[l,a]=s.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${a}`:`${l}>${i.join("")}<${a}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function Bv(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function Fs(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function ml(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new H)}function bl(n,e){let{index:t,length:r}=n;return new Jt(t+e,r)}function $v(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,s)=>{s&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class pt{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const Xr="\uFEFF";class Do extends Fe{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Xr),this.rightGuard=document.createTextNode(Xr),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(Xr).join("");if(e===this.leftGuard)if(this.prev instanceof et){const s=this.prev.length();this.prev.insertAt(s,i),t={startNode:this.prev.domNode,startOffset:s+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof et?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=Xr,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class Fv{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof Do)&&(this.emitter.emit(V.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(V.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(V.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(V.events.COMPOSITION_END,e),this.isComposing=!1}}class kn{static DEFAULTS={modules:{}};static themes={default:kn};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const jv=n=>n.parentElement||n.getRootNode().host||null,Uv=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Qr=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},vl=(n,e,t,r,i,s)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+s:0,Vv=(n,e)=>{const t=n.ownerDocument;let r=e,i=n;for(;i;){const s=i===t.body,o=s?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:Uv(i),l=getComputedStyle(i),a=vl(r.left,r.right,o.left,o.right,Qr(l.scrollPaddingLeft),Qr(l.scrollPaddingRight)),c=vl(r.top,r.bottom,o.top,o.bottom,Qr(l.scrollPaddingTop),Qr(l.scrollPaddingBottom));if(a||c)if(s)t.defaultView?.scrollBy(a,c);else{const{scrollLeft:h,scrollTop:p}=i;c&&(i.scrollTop+=c),a&&(i.scrollLeft+=a);const d=i.scrollLeft-h,g=i.scrollTop-p;r={left:r.left-d,top:r.top-g,right:r.right-d,bottom:r.bottom-g}}i=s||l.position==="fixed"?null:jv(i)}},Hv=100,zv=["block","break","cursor","inline","scroll","text"],Gv=(n,e,t)=>{const r=new Rn;return zv.forEach(i=>{const s=e.query(i);s&&r.register(s)}),n.forEach(i=>{let s=e.query(i);s||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,o+=1,o>Hv){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},Nn=Ct("quill"),Jr=new Rn;Je.uiClass="ql-ui";class N{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Jr,theme:"default"};static events=V.events;static sources=V.sources;static version="2.0.3";static imports={delta:H,parchment:Tv,"core/module":pt,"core/theme":kn};static debug(e){e===!0&&(e="log"),Ct.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return fo.get(e)||Jr.find(e,t)}static import(e){return this.imports[e]==null&&Nn.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&Nn.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Jr.register(t),typeof t.register=="function"&&t.register(Jr)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=Wv(e,t),this.container=this.options.container,this.container==null){Nn.error("Invalid Quill container",e);return}this.options.debug&&N.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",fo.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new V;const i=Po.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Dv(this.scroll),this.selection=new qv(this.scroll,this.emitter),this.composition=new Fv(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(V.events.EDITOR_CHANGE,o=>{o===V.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(V.events.SCROLL_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),h=a&&c?{oldRange:a,newRange:c}:void 0;Ze.call(this,()=>this.editor.update(null,l,h),o)}),this.emitter.on(V.events.SCROLL_EMBED_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),h=a&&c?{oldRange:a,newRange:c}:void 0;Ze.call(this,()=>{const p=new H().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(p,[],h)},N.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=wt(e,t,r),Ze.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V.sources.API;return Ze.call(this,()=>{const i=this.getSelection(!0);let s=new H;if(i==null)return s;if(this.scroll.query(e,z.BLOCK))s=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),s;s=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,V.sources.SILENT),s},r)}formatLine(e,t,r,i,s){let o;return[e,t,o,s]=wt(e,t,r,i,s),Ze.call(this,()=>this.editor.formatLine(e,t,o),s,e,0)}formatText(e,t,r,i,s){let o;return[e,t,o,s]=wt(e,t,r,i,s),Ze.call(this,()=>this.editor.formatText(e,t,o),s,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=wt(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=wt(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=wt(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:N.sources.API;return Ze.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,s){let o;return[e,,o,s]=wt(e,0,r,i,s),Ze.call(this,()=>this.editor.insertText(e,t,o),s,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=wt(e,t,r),Ze.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){Vv(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.sources.API;return Ze.call(this,()=>{e=new H(e);const r=this.getLength(),i=this.editor.deleteText(0,r),s=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(o)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||N.sources.API):([e,t,,r]=wt(e,t,r),this.selection.setRange(new Jt(Math.max(0,e),t),r),r!==V.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.sources.API;const r=new H().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.sources.API;return Ze.call(this,()=>(e=new H(e),this.editor.applyDelta(e)),t,!0)}}function yl(n){return typeof n=="string"?document.querySelector(n):n}function js(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function wl(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function Wv(n,e){const t=yl(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===N.DEFAULTS.theme?kn:N.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:s,...o}=N.DEFAULTS,{modules:l,...a}=i.DEFAULTS;let c=js(e.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const h=qt({},js(s),js(l),c),p={...o,...wl(a),...wl(e)};let d=e.registry;return d?e.formats&&Nn.warn('Ignoring "formats" option because "registry" is specified'):d=e.formats?Gv(e.formats,p.registry,Nn):p.registry,{...p,registry:d,container:t,theme:i,modules:Object.entries(h).reduce((g,m)=>{let[v,b]=m;if(!b)return g;const E=N.import(`modules/${v}`);return E==null?(Nn.error(`Cannot load ${v} module. Are you sure you registered it?`),g):{...g,[v]:qt({},E.DEFAULTS||{},b)}},{}),bounds:yl(p.bounds)}}function Ze(n,e,t,r){if(!this.isEnabled()&&e===V.sources.USER&&!this.allowReadOnlyEdits)return new H;let i=t==null?null:this.getSelection();const s=this.editor.delta,o=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=El(i,o,e):r!==0&&(i=El(i,t,r,e)),this.setSelection(i,V.sources.SILENT)),o.length()>0){const l=[V.events.TEXT_CHANGE,o,s,e];this.emitter.emit(V.events.EDITOR_CHANGE,...l),e!==V.sources.SILENT&&this.emitter.emit(...l)}return o}function wt(n,e,t,r,i){let s={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(s=t,i=r):typeof t=="string"&&(r!=null?s[t]=r:i=t),i=i||V.sources.API,[n,e,s,i]}function El(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let s,o;return e&&typeof e.transformPosition=="function"?[s,o]=[n.index,n.index+n.length].map(l=>e.transformPosition(l,r!==V.sources.USER)):[s,o]=[n.index,n.index+n.length].map(l=>l<e||l===e&&r===V.sources.USER?l:i>=0?l+i:Math.max(e,l+i)),new Jt(s,o-s)}class sn extends _i{}function Sl(n){return n instanceof Ce||n instanceof He}function xl(n){return typeof n.updateContent=="function"}class Kv extends Po{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Ce;static allowedChildren=[Ce,He,sn];constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(V.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(V.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(V.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[s]=this.line(e+t);if(super.deleteAt(e,t),s!=null&&r!==s&&i>0){if(r instanceof He||s instanceof He){this.optimize();return}const o=s.children.head instanceof nt?null:s.children.head;r.moveChildren(s,o),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,z.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===z.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new H().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const s=r.shift();if(s){const a=s.type==="block"&&(s.delta.length()===0||!this.descendant(He,e)[0]&&e<this.length()),c=s.type==="block"?s.delta:new H().insert({[s.key]:s.value});Us(this,e,c);const h=s.type==="block"?1:0,p=e+c.length()+h;a&&this.insertAt(p-1,`
`);const d=Ue(this.line(e)[0]),g=ze.AttributeMap.diff(d,s.attributes)||{};Object.keys(g).forEach(m=>{this.formatAt(p-1,1,m,g[m])}),e=p}let[o,l]=this.children.find(e);if(r.length&&(o&&(o=o.split(l),l=0),r.forEach(a=>{if(a.type==="block"){const c=this.createBlock(a.attributes,o||void 0);Us(c,0,a.delta)}else{const c=this.create(a.key,a.value);this.insertBefore(c,o||void 0),Object.keys(a.attributes).forEach(h=>{c.format(h,a.attributes[h])})}})),i.type==="block"&&i.delta.length()){const a=o?o.offset(o.scroll)+l:this.length();Us(this,a,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof _e?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Sl,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,s,o)=>{let l=[],a=o;return i.children.forEachAt(s,o,(c,h,p)=>{Sl(c)?l.push(c):c instanceof _i&&(l=l.concat(r(c,h,a))),a-=p}),l};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(V.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=V.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const s=this.find(i,!0);return s&&!xl(s)}),e.length>0&&this.emitter.emit(V.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(V.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(s=>s instanceof He,e);i&&i.statics.blotName===t&&xl(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new H;return e.forEach(i=>{const s=i?.insert;if(s)if(typeof s=="string"){const o=s.split(`
`);o.slice(0,-1).forEach(a=>{r.insert(a,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new H});const l=o[o.length-1];l&&r.insert(l,i.attributes)}else{const o=Object.keys(s)[0];if(!o)return;this.query(o,z.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new H,t.push({type:"blockEmbed",key:o,value:s[o],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(l=>{let[a,c]=l;this.query(a,z.BLOCK&z.BLOT)!=null?r=a:i[a]=c});const s=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(s,t||void 0);const o=s.length();return Object.entries(i).forEach(l=>{let[a,c]=l;s.formatAt(0,o,a,c)}),s}}function Us(n,e,t){t.reduce((r,i)=>{const s=ze.Op.length(i);let o=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;n.insertAt(r,l);const[a]=n.descendant(_e,r),c=Ue(a);o=ze.AttributeMap.diff(c,o)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(n.insertAt(r,l,i.insert[l]),n.scroll.query(l,z.INLINE)!=null){const[c]=n.descendant(_e,r),h=Ue(c);o=ze.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(l=>{n.formatAt(r,s,l,o[l])}),r+s},e)}const Bo={scope:z.BLOCK,whitelist:["right","center","justify"]},Zv=new ft("align","align",Bo),hc=new tt("align","ql-align",Bo),fc=new Ft("align","text-align",Bo);class dc extends Ft{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const Yv=new tt("color","ql-color",{scope:z.INLINE}),$o=new dc("color","color",{scope:z.INLINE}),Xv=new tt("background","ql-bg",{scope:z.INLINE}),Fo=new dc("background","background-color",{scope:z.INLINE});class on extends sn{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${Mi(this.code(e,t))}
</pre>`}}class qe extends Ce{static TAB="  ";static register(){N.register(on)}}class jo extends ke{}jo.blotName="code";jo.tagName="CODE";qe.blotName="code-block";qe.className="ql-code-block";qe.tagName="DIV";on.blotName="code-block-container";on.className="ql-code-block-container";on.tagName="DIV";on.allowedChildren=[qe];qe.allowedChildren=[et,nt,Xe];qe.requiredContainer=on;const Uo={scope:z.BLOCK,whitelist:["rtl"]},pc=new ft("direction","dir",Uo),gc=new tt("direction","ql-direction",Uo),mc=new Ft("direction","direction",Uo),bc={scope:z.INLINE,whitelist:["serif","monospace"]},vc=new tt("font","ql-font",bc);class Qv extends Ft{value(e){return super.value(e).replace(/["']/g,"")}}const yc=new Qv("font","font-family",bc),wc=new tt("size","ql-size",{scope:z.INLINE,whitelist:["small","large","huge"]}),Ec=new Ft("size","font-size",{scope:z.INLINE,whitelist:["10px","18px","32px"]}),Jv=Ct("quill:keyboard"),e0=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class ki extends pt{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=n0(e);if(i==null){Jv.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(o=>{const l={...i,key:o,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(E=>ki.match(e,E));if(i.length===0)return;const s=N.find(e.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,a]=this.quill.getLine(o.index),[c,h]=this.quill.getLeaf(o.index),[p,d]=o.length===0?[c,h]:this.quill.getLeaf(o.index+o.length),g=c instanceof wi?c.value().slice(0,h):"",m=p instanceof wi?p.value().slice(d):"",v={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:a,prefix:g,suffix:m,event:e};i.some(E=>{if(E.collapsed!=null&&E.collapsed!==v.collapsed||E.empty!=null&&E.empty!==v.empty||E.offset!=null&&E.offset!==v.offset)return!1;if(Array.isArray(E.format)){if(E.format.every(A=>v.format[A]==null))return!1}else if(typeof E.format=="object"&&!Object.keys(E.format).every(A=>E.format[A]===!0?v.format[A]!=null:E.format[A]===!1?v.format[A]==null:_t(E.format[A],v.format[A])))return!1;return E.prefix!=null&&!E.prefix.test(v.prefix)||E.suffix!=null&&!E.suffix.test(v.suffix)?!1:E.handler.call(this,o,v,E)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(e.index);let o=new H().retain(e.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(e.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const c=s.formats(),h=this.quill.getFormat(e.index-1,1);if(i=ze.AttributeMap.diff(c,h)||{},Object.keys(i).length>0){const p=new H().retain(e.index+s.length()-2).retain(1,i);o=o.compose(p)}}}this.quill.updateContents(o,N.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[s]=this.quill.getLine(e.index);let o=new H().retain(e.index).delete(r);if(t.offset>=s.length()-1){const[l]=this.quill.getLine(e.index+1);if(l){const a=s.formats(),c=this.quill.getFormat(e.index,1);i=ze.AttributeMap.diff(a,c)||{},Object.keys(i).length>0&&(o=o.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(o,N.sources.USER),this.quill.focus()}handleDeleteRange(e){Vo({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((s,o)=>(this.quill.scroll.query(o,z.BLOCK)&&!Array.isArray(t.format[o])&&(s[o]=t.format[o]),s),{}),i=new H().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,N.sources.USER),this.quill.setSelection(e.index+1,N.sources.SILENT),this.quill.focus()}}const t0={bindings:{bold:Vs("bold"),italic:Vs("italic"),underline:Vs("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",N.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",N.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",N.sources.USER):e.format.list!=null&&this.quill.format("list",!1,N.sources.USER)}},"indent code-block":Al(!0),"outdent code-block":Al(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,N.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new H().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,N.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,N.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,N.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,N.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new H().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,N.sources.USER),this.quill.setSelection(n.index+1,N.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new H().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,N.sources.USER),this.quill.setSelection(n.index+1,N.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,s]=e.getTable(n),o=r0(t,r,i,s);if(o==null)return;let l=t.offset();if(o<0){const a=new H().retain(l).insert(`
`);this.quill.updateContents(a,N.sources.USER),this.quill.setSelection(n.index+1,n.length,N.sources.SILENT)}else if(o>0){l+=t.length();const a=new H().retain(l).insert(`
`);this.quill.updateContents(a,N.sources.USER),this.quill.setSelection(l,N.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,N.sources.USER):this.quill.setSelection(i+r.length(),N.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(n.index," ",N.sources.USER),this.quill.history.cutoff();const o=new H().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(o,N.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,N.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const s=new H().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,N.sources.USER),this.quill.setSelection(n.index-1,N.sources.SILENT),!1}return!0}},"embed left":ei("ArrowLeft",!1),"embed left shift":ei("ArrowLeft",!0),"embed right":ei("ArrowRight",!1),"embed right shift":ei("ArrowRight",!0),"table down":Tl(!1),"table up":Tl(!0)}};ki.DEFAULTS=t0;function Al(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,s,N.sources.USER),this.quill.setSelection(e.index+s.length,N.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:a}=e;o.forEach((c,h)=>{n?(c.insertAt(0,s),h===0?l+=s.length:a+=s.length):c.domNode.textContent.startsWith(s)&&(c.deleteAt(0,s.length),h===0?l-=s.length:a-=s.length)}),this.quill.update(N.sources.USER),this.quill.setSelection(l,a,N.sources.SILENT)}}}function ei(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[s]=this.quill.getLeaf(i);return s instanceof Fe?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,N.sources.USER):this.quill.setSelection(r.index-1,N.sources.USER):e?this.quill.setSelection(r.index,r.length+1,N.sources.USER):this.quill.setSelection(r.index+r.length+1,N.sources.USER),!1):!0}}}function Vs(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],N.sources.USER)}}}function Tl(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let o=s.children.head,l=i;for(;l.prev!=null;)l=l.prev,o=o.next;const a=o.offset(this.quill.scroll)+Math.min(t.offset,o.length()-1);this.quill.setSelection(a,0,N.sources.USER)}}else{const o=i.table()[r];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,N.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,N.sources.USER))}return!1}}}function n0(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=On(n);else return null;return n.shortKey&&(n[e0]=n.shortKey,delete n.shortKey),n}function Vo(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const s=r[0].formats(),o=r[r.length-1].formats();i=ze.AttributeMap.diff(o,s)||{}}e.deleteText(t,N.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,N.sources.USER),e.setSelection(t.index,N.sources.SILENT)}function r0(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const i0=/font-weight:\s*normal/,s0=["P","OL","UL"],Ol=n=>n&&s0.includes(n.tagName),o0=n=>{Array.from(n.querySelectorAll("br")).filter(e=>Ol(e.previousElementSibling)&&Ol(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},a0=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(i0)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function l0(n){n.querySelector('[id^="docs-internal-guid-"]')&&(a0(n),o0(n))}const u0=/\bmso-list:[^;]*ignore/i,c0=/\bmso-list:[^;]*\bl(\d+)/i,h0=/\bmso-list:[^;]*\blevel(\d+)/i,f0=(n,e)=>{const t=n.getAttribute("style"),r=t?.match(c0);if(!r)return null;const i=Number(r[1]),s=t?.match(h0),o=s?Number(s[1]):1,l=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=e.match(l),c=a&&a[1]==="bullet"?"bullet":"ordered";return{id:i,indent:o,type:c,element:n}},d0=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(o=>{(o.getAttribute("style")||"").match(u0)?t.push(o):r.push(o)}),t.forEach(o=>o.parentNode?.removeChild(o));const i=n.documentElement.innerHTML,s=r.map(o=>f0(o,i)).filter(o=>o);for(;s.length;){const o=[];let l=s.shift();for(;l;)o.push(l),l=s.length&&s[0]?.element===l.element.nextElementSibling&&s[0].id===l.id?s.shift():null;const a=document.createElement("ul");o.forEach(p=>{const d=document.createElement("li");d.setAttribute("data-list",p.type),p.indent>1&&d.setAttribute("class",`ql-indent-${p.indent-1}`),d.innerHTML=p.element.innerHTML,a.appendChild(d)});const c=o[0]?.element,{parentNode:h}=c??{};c&&h?.replaceChild(a,c),o.slice(1).forEach(p=>{let{element:d}=p;h?.removeChild(d)})}};function p0(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&d0(n)}const g0=[p0,l0],m0=n=>{n.documentElement&&g0.forEach(e=>{e(n)})},b0=Ct("quill:clipboard"),v0=[[Node.TEXT_NODE,R0],[Node.TEXT_NODE,Nl],["br",A0],[Node.ELEMENT_NODE,Nl],[Node.ELEMENT_NODE,x0],[Node.ELEMENT_NODE,S0],[Node.ELEMENT_NODE,L0],["li",C0],["ol, ul",N0],["pre",T0],["tr",I0],["b",Hs("bold")],["i",Hs("italic")],["strike",Hs("strike")],["style",O0]],y0=[Zv,pc].reduce((n,e)=>(n[e.keyName]=e,n),{}),Cl=[fc,Fo,$o,mc,yc,Ec].reduce((n,e)=>(n[e.keyName]=e,n),{});class w0 extends pt{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],v0.concat(this.options.matchers??[]).forEach(r=>{let[i,s]=r;this.addMatcher(i,s)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[qe.blotName])return new H().insert(r||"",{[qe.blotName]:i[qe.blotName]});if(!t)return new H().insert(r||"",i);const s=this.convertHTML(t);return vr(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new H().retain(s.length()-1).delete(1)):s}normalizeHTML(e){m0(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[s,o]=this.prepareMatching(r,i);return Ho(this.quill.scroll,r,s,o,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,N.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new H().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),N.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:s}=this.onCopy(r,t);e.clipboardData?.setData("text/plain",s),e.clipboardData?.setData("text/html",i),t&&Vo({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=e.clipboardData?.getData("text/html");let i=e.clipboardData?.getData("text/plain");if(!r&&!i){const o=e.clipboardData?.getData("text/uri-list");o&&(i=this.normalizeURIList(o))}const s=Array.from(e.clipboardData?.files||[]);if(!r&&s.length>0){this.quill.uploader.upload(t,s);return}if(r&&s.length>0){const o=new DOMParser().parseFromString(r,"text/html");if(o.body.childElementCount===1&&o.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,s);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const s=this.quill.getFormat(e.index),o=this.convert({text:r,html:i},s);b0.log("onPaste",o,{text:r,html:i});const l=new H().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(l,N.sources.USER),this.quill.setSelection(l.length()-e.length,N.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(s=>{const[o,l]=s;switch(o){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(e.querySelectorAll(o)).forEach(a=>{t.has(a)?t.get(a)?.push(l):t.set(a,[l])});break}}),[r,i]}}function an(n,e,t,r){return r.query(e)?n.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[e])return i.push(s);const o=t?{[e]:t}:{};return i.insert(s.insert,{...o,...s.attributes})},new H):n}function vr(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function kt(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof Fe?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function E0(n,e){return n.previousElementSibling&&n.nextElementSibling&&!kt(n.previousElementSibling,e)&&!kt(n.nextElementSibling,e)}const ti=new WeakMap;function Sc(n){return n==null?!1:(ti.has(n)||(n.tagName==="PRE"?ti.set(n,!0):ti.set(n,Sc(n.parentNode))),ti.get(n))}function Ho(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((s,o)=>o(e,s,n),new H):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((s,o)=>{let l=Ho(n,o,t,r,i);return o.nodeType===e.ELEMENT_NODE&&(l=t.reduce((a,c)=>c(o,a,n),l),l=(i.get(o)||[]).reduce((a,c)=>c(o,a,n),l)),s.concat(l)},new H):new H}function Hs(n){return(e,t,r)=>an(t,n,!0,r)}function S0(n,e,t){const r=ft.keys(n),i=tt.keys(n),s=Ft.keys(n),o={};return r.concat(i).concat(s).forEach(l=>{let a=t.query(l,z.ATTRIBUTE);a!=null&&(o[a.attrName]=a.value(n),o[a.attrName])||(a=y0[l],a!=null&&(a.attrName===l||a.keyName===l)&&(o[a.attrName]=a.value(n)||void 0),a=Cl[l],a!=null&&(a.attrName===l||a.keyName===l)&&(a=Cl[l],o[a.attrName]=a.value(n)||void 0))}),Object.entries(o).reduce((l,a)=>{let[c,h]=a;return an(l,c,h,t)},e)}function x0(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof Fe){const i={},s=r.value(n);if(s!=null)return i[r.blotName]=s,new H().insert(i,r.formats(n,t))}else if(r.prototype instanceof dr&&!vr(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return an(e,r.blotName,r.formats(n,t),t);return e}function A0(n,e){return vr(e,`
`)||e.insert(`
`),e}function T0(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return an(e,"code-block",i,t)}function O0(){return new H}function C0(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!vr(e,`
`))return e;let i=-1,s=n.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?e:e.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:i,...l.attributes||{}}):o,new H)}function N0(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),an(e,"list",i,t)}function Nl(n,e,t){if(!vr(e,`
`)){if(kt(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(kt(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof He)return e.insert(`
`);r=r.firstChild}}}return e}function L0(n,e,t){const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((s,o)=>{let[l,a]=o;return an(s,l,a,t)},e),parseFloat(i.textIndent||0)>0?new H().insert("	").concat(e):e}function I0(n,e,t){const r=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(r!=null){const s=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return an(e,"table",s,t)}return e}function R0(n,e,t){let r=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(r.trim());if(!Sc(n)){if(r.trim().length===0&&r.includes(`
`)&&!E0(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&kt(n.parentElement,t)||n.previousSibling instanceof Element&&kt(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&kt(n.parentElement,t)||n.nextSibling instanceof Element&&kt(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class _0 extends pt{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(N.events.EDITOR_CHANGE,(r,i,s,o)=>{r===N.events.SELECTION_CHANGE?i&&o!==N.sources.SILENT&&(this.currentRange=i):r===N.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||o===N.sources.USER?this.record(i,s):this.transform(i)),this.currentRange=mo(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const i=this.quill.getContents(),s=r.delta.invert(i);this.stack[t].push({delta:s,range:mo(r.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,N.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(t),i=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const o=this.stack.undo.pop();o&&(r=r.compose(o.delta),i=o.range)}else this.lastRecorded=s;r.length()!==0&&(this.stack.undo.push({delta:r,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Ll(this.stack.undo,e),Ll(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,N.sources.USER);else{const t=k0(this.quill.scroll,e.delta);this.quill.setSelection(t,N.sources.USER)}}}function Ll(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&mo(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function M0(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,z.BLOCK)!=null):!1}function k0(n,e){const t=e.reduce((i,s)=>i+(s.delete||0),0);let r=e.length()-t;return M0(n,e)&&(r-=1),r}function mo(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class xc extends pt{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const o=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(o.offsetNode,o.offset),i.setEnd(o.offsetNode,o.offset)}const s=i&&e.selection.normalizeNative(i);if(s){const o=e.selection.normalizedToRange(s);r.dataTransfer?.files&&this.upload(o,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{i&&this.options.mimetypes?.includes(i.type)&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}xc.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((s,o)=>s.insert({image:o}),new H().retain(n.index).delete(n.length));this.quill.updateContents(i,V.sources.USER),this.quill.setSelection(n.index+r.length,V.sources.SILENT)})}};const q0=["insertText","insertReplacementText"];class P0 extends pt{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(N.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){Vo({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new H().retain(e.index).insert(t,r),N.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,N.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!q0.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=D0(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function D0(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const B0=/Mac/i.test(navigator.platform),$0=100,F0=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||B0&&n.key==="a"&&n.ctrlKey===!0);class j0 extends pt{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:r,event:i}=t;if(!(r instanceof Je)||!r.uiNode)return!0;const s=getComputedStyle(r.domNode).direction==="rtl";return s&&i.key!=="ArrowRight"||!s&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),N.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&F0(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+$0,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const r=this.quill.scroll.find(t.startContainer);if(!(r instanceof Je)||!r.uiNode)return;const i=document.createRange();i.setStartAfter(r.uiNode),i.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(i)}}N.register({"blots/block":Ce,"blots/block/embed":He,"blots/break":nt,"blots/container":sn,"blots/cursor":Xe,"blots/embed":Do,"blots/inline":ke,"blots/scroll":Kv,"blots/text":et,"modules/clipboard":w0,"modules/history":_0,"modules/keyboard":ki,"modules/uploader":xc,"modules/input":P0,"modules/uiNode":j0});class U0 extends tt{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const V0=new U0("indent","ql-indent",{scope:z.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class H0 extends Ce{static blotName="blockquote";static tagName="blockquote"}class z0 extends Ce{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class yr extends sn{}yr.blotName="list-container";yr.tagName="OL";class wr extends Ce{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){N.register(yr)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=s=>{if(!e.isEnabled())return;const o=this.statics.formats(t,e);o==="checked"?(this.format("list","unchecked"),s.preventDefault()):o==="unchecked"&&(this.format("list","checked"),s.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}wr.blotName="list";wr.tagName="LI";yr.allowedChildren=[wr];wr.requiredContainer=yr;class zo extends ke{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class G0 extends zo{static blotName="italic";static tagName=["EM","I"]}class Ei extends ke{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return Ac(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function Ac(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class W0 extends ke{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class K0 extends zo{static blotName="strike";static tagName=["S","STRIKE"]}class Z0 extends ke{static blotName="underline";static tagName="U"}class Y0 extends Do{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const Il=["alt","height","width"];let X0=class extends Fe{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Il.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Ac(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){Il.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}};const Rl=["height","width"];class Q0 extends He{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Rl.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return Ei.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){Rl.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const ir=new tt("code-token","hljs",{scope:z.INLINE});class At extends ke{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(qe.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),ir.add(this.domNode,r)}format(e,t){e!==At.blotName?super.format(e,t):t?ir.add(this.domNode,t):(ir.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),ir.value(this.domNode)||this.unwrap()}}At.blotName="code-token";At.className="ql-token";class Ve extends qe{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),At.blotName,!1),super.replaceWith(e,t)}}class or extends on{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Ve.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===Ve.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,s=Ve.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const o=this.children.reduce((a,c)=>a.concat(uc(c,!1)),new H),l=e(i,s);o.diff(l).reduce((a,c)=>{let{retain:h,attributes:p}=c;return h?(p&&Object.keys(p).forEach(d=>{[Ve.blotName,At.blotName].includes(d)&&this.formatAt(a,h,d,p[d])}),a+h):a},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?Ve.formats(r.domNode):"plain"}">
${Mi(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ve.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}or.allowedChildren=[Ve];Ve.requiredContainer=or;Ve.allowedChildren=[At,Xe,et,nt];const J0=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class Tc extends pt{static register(){N.register(At,!0),N.register(Ve,!0),N.register(or,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:s}=i;return r[s]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(N.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof or))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:s}=r;const o=t.ownerDocument.createElement("option");o.textContent=s,o.setAttribute("value",i),t.appendChild(o)}),t.addEventListener("change",()=>{e.format(Ve.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Ve.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(N.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(N.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(or):[e]).forEach(s=>{s.highlight(this.highlightBlot,t)}),this.quill.update(N.sources.SILENT),r!=null&&this.quill.setSelection(r,N.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Mi(e).split(`
`).reduce((i,s,o)=>(o!==0&&i.insert(`
`,{[qe.blotName]:t}),i.insert(s)),new H);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(qe.className),r.innerHTML=J0(this.options.hljs,t,e),Ho(this.quill.scroll,r,[(i,s)=>{const o=ir.value(i);return o?s.compose(new H().retain(s.length(),{[At.blotName]:o})):s}],[(i,s)=>i.data.split(`
`).reduce((o,l,a)=>(a!==0&&o.insert(`
`,{[qe.blotName]:t}),o.insert(l)),s)],new WeakMap)}}Tc.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Qe extends Ce{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",Go()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Qe.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class en extends sn{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const s=this.splitAfter(t);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class Pt extends sn{static blotName="table-body";static tagName="TBODY"}class Si extends sn{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(en),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=Qe.formats(r.children.head.domNode));const s=this.scroll.create(Qe.blotName,i);r.appendChild(s),s.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Pt);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i?.remove()})}insertColumn(e){const[t]=this.descendant(Pt);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),s=Qe.formats(r.children.head.domNode),o=this.scroll.create(Qe.blotName,s);r.insertBefore(o,i)})}insertRow(e){const[t]=this.descendant(Pt);if(t==null||t.children.head==null)return;const r=Go(),i=this.scroll.create(en.blotName);t.children.head.children.forEach(()=>{const o=this.scroll.create(Qe.blotName,r);i.appendChild(o)});const s=t.children.at(e);t.insertBefore(i,s)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Si.allowedChildren=[Pt];Pt.requiredContainer=Si;Pt.allowedChildren=[en];en.requiredContainer=Pt;en.allowedChildren=[Qe];Qe.requiredContainer=en;function Go(){return`row-${Math.random().toString(36).slice(2,6)}`}class ey extends pt{static register(){N.register(Qe),N.register(en),N.register(Pt),N.register(Si)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Si).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(N.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(N.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(N.sources.USER),this.quill.setSelection(t,N.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Qe.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const o=s.cellOffset();r.insertColumn(o+e),this.quill.update(N.sources.USER);let l=i.rowOffset();e===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,N.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const o=i.rowOffset();r.insertRow(o+e),this.quill.update(N.sources.USER),e>0?this.quill.setSelection(t,N.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,N.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(s=>{const o=new Array(t).fill(`
`).join("");return s.insert(o,{table:Go()})},new H().retain(r.index));this.quill.updateContents(i,N.sources.USER),this.quill.setSelection(r.index,N.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(N.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(N.events.TEXT_CHANGE,(r,i,s)=>{s===N.sources.USER&&this.balanceTables()}),!0):!1)})}}const _l=Ct("quill:toolbar");class Wo extends pt{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),ty(r,this.options.container),e.container?.parentNode?.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){_l.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{const i=this.options.handlers?.[r];i&&this.addHandler(r,i)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(N.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){_l.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let s;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const l=e.options[e.selectedIndex];l.hasAttribute("selected")?s=!1:s=l.value||!1}else e.classList.contains("ql-active")?s=!1:s=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,s);else if(this.quill.scroll.query(t).prototype instanceof Fe){if(s=prompt(`Enter ${t}`),!s)return;this.quill.updateContents(new H().retain(o.index).delete(o.length).insert({[t]:s}),N.sources.USER)}else this.quill.format(t,s,N.sources.USER);this.update(o)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,s]=r;if(s.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(t[i]==null)o=s.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=s.querySelector(`option[value="${l}"]`)}o==null?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(e==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const o=t[i],l=o===s.getAttribute("value")||o!=null&&o.toString()===s.getAttribute("value")||o==null&&!s.getAttribute("value");s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}else{const o=t[i]!=null;s.classList.toggle("ql-active",o),s.setAttribute("aria-pressed",o.toString())}})}}Wo.DEFAULTS={};function Ml(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function ty(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")Ml(r,i);else{const s=Object.keys(i)[0],o=i[s];Array.isArray(o)?ny(r,s,o):Ml(r,s,o)}}),n.appendChild(r)})}function ny(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),r.appendChild(s)}),n.appendChild(r)}Wo.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,z.INLINE)!=null&&this.quill.format(t,!1,N.sources.USER)})}else this.quill.removeFormat(n.index,n.length,N.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",N.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,N.sources.USER),this.quill.format("direction",n,N.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,N.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,N.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,N.sources.USER):this.quill.format("list","unchecked",N.sources.USER):this.quill.format("list",n,N.sources.USER)}}};const ry='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',iy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',sy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',oy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',ay='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',ly='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',uy='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',cy='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',kl='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',hy='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',fy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',dy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',py='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',gy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',my='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',by='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',vy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',yy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',wy='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Ey='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Sy='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',xy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Ay='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Ty='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Oy='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Cy='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Ny='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Ly='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Iy='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Ry='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',_y='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',My='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',ky='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',gr={align:{"":ry,center:iy,right:sy,justify:oy},background:ay,blockquote:ly,bold:uy,clean:cy,code:kl,"code-block":kl,color:hy,direction:{"":fy,rtl:dy},formula:py,header:{1:gy,2:my,3:by,4:vy,5:yy,6:wy},italic:Ey,image:Sy,indent:{"+1":xy,"-1":Ay},link:Ty,list:{bullet:Oy,check:Cy,ordered:Ny},script:{sub:Ly,super:Iy},strike:Ry,table:_y,underline:My,video:ky},qy='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let ql=0;function Pl(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class qi{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Pl(this.label,"aria-expanded"),Pl(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=qy,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${ql}`,ql+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class Oc extends qi{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class Cc extends qi{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const Py=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class Nc{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Py(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let o=0;if(s.right>i.right&&(o=i.right-s.right,this.root.style.left=`${t+o}px`),s.left<i.left&&(o=i.left-s.left,this.root.style.left=`${t+o}px`),s.bottom>i.bottom){const l=s.bottom-s.top,a=e.bottom-e.top+l;this.root.style.top=`${r-a}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Dy=[!1,"center","right","justify"],By=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],$y=[!1,"serif","monospace"],Fy=["1","2","3",!1],jy=["small",!1,"large","huge"];class Er extends kn{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),t[s]!=null))if(s==="direction")r.innerHTML=t[s][""]+t[s].rtl;else if(typeof t[s]=="string")r.innerHTML=t[s];else{const o=r.value||"";o!=null&&t[s][o]&&(r.innerHTML=t[s][o])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&er(i,Dy),typeof t.align=="object"))return new Cc(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&er(i,By,s==="background"?"#ffffff":"#000000"),new Oc(i,t[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?er(i,$y):i.classList.contains("ql-header")?er(i,Fy):i.classList.contains("ql-size")&&er(i,jy)),new qi(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(V.events.EDITOR_CHANGE,r)}}Er.DEFAULTS=qt({},kn.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Lc extends Nc{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,V.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,V.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=Uy(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,V.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",V.sources.USER),this.quill.setSelection(r+2,V.sources.USER)}break}}this.textbox.value="",this.hide()}}function Uy(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function er(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const Vy=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Hy extends Lc{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(V.events.EDITOR_CHANGE,(r,i,s,o)=>{if(r===V.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&o===V.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const a=this.quill.getBounds(i);a!=null&&this.position(a)}else{const a=l[l.length-1],c=this.quill.getIndex(a),h=Math.min(a.length()-1,i.index+i.length-c),p=this.quill.getBounds(new Jt(c,h));p!=null&&this.position(p)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(V.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}class Ic extends Er{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Vy),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Hy(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),gr),this.buildPickers(e.container.querySelectorAll("select"),gr))}}Ic.DEFAULTS=qt({},Er.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,N.sources.USER)}}}}});const zy=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Gy extends Lc{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,V.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(V.events.SELECTION_CHANGE,(e,t,r)=>{if(e!=null){if(e.length===0&&r===V.sources.USER){const[i,s]=this.quill.scroll.descendant(Ei,e.index);if(i!=null){this.linkRange=new Jt(e.index-s,i.length());const o=Ei.formats(i.domNode);this.preview.textContent=o,this.preview.setAttribute("href",o),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class Rc extends Er{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=zy),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),gr),this.buildPickers(e.container.querySelectorAll("select"),gr),this.tooltip=new Gy(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}Rc.DEFAULTS=qt({},Er.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,N.sources.USER)}}}}});N.register({"attributors/attribute/direction":pc,"attributors/class/align":hc,"attributors/class/background":Xv,"attributors/class/color":Yv,"attributors/class/direction":gc,"attributors/class/font":vc,"attributors/class/size":wc,"attributors/style/align":fc,"attributors/style/background":Fo,"attributors/style/color":$o,"attributors/style/direction":mc,"attributors/style/font":yc,"attributors/style/size":Ec},!0);N.register({"formats/align":hc,"formats/direction":gc,"formats/indent":V0,"formats/background":Fo,"formats/color":$o,"formats/font":vc,"formats/size":wc,"formats/blockquote":H0,"formats/code-block":qe,"formats/header":z0,"formats/list":wr,"formats/bold":zo,"formats/code":jo,"formats/italic":G0,"formats/link":Ei,"formats/script":W0,"formats/strike":K0,"formats/underline":Z0,"formats/formula":Y0,"formats/image":X0,"formats/video":Q0,"modules/syntax":Tc,"modules/table":ey,"modules/toolbar":Wo,"themes/bubble":Ic,"themes/snow":Rc,"ui/icons":gr,"ui/picker":qi,"ui/icon-picker":Cc,"ui/color-picker":Oc,"ui/tooltip":Nc},!0);class Ko extends at.Component{constructor(e){super(e),this.editingAreaRef=k.createRef(),this.containerRef=k.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,s,o)=>{r==="text-change"?this.onEditorChangeText?.(this.editor.getSemanticHTML(),i,o,this.unprivilegedEditor):r==="selection-change"&&this.onEditorChangeSelection?.(i,o,this.unprivilegedEditor)};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(at.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(at.Children.count(e.children)&&at.Children.only(e.children)?.type==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const r=this.getEditorContents(),i=e.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!_t(e[r],this.props[r]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!_t(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.editor&&e.placeholder!==this.props.placeholder&&(this.editor.root.dataset.placeholder=this.props.placeholder||""),this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const s=this.editor;s.setContents(r),Dl(()=>this.setEditorSelection(s,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){if(!this.editor)return;this.unhookEditor(this.editor);const e=this.props.modules?.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const r=this.containerRef.current?.querySelector(".ql-toolbar");r&&r.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const r=new N(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?_t(e.ops,t.ops):_t(e,t)}setEditorContents(e,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),Dl(()=>this.setEditorSelection(e,r))}setEditorSelection(e,t){if(this.selection=t,t){const r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){e?.scroll?.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return at.Children.count(e)?at.cloneElement(at.Children.only(e),i):t?at.createElement("pre",{...i}):at.createElement("div",{...i})}render(){return at.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,r,i){if(!this.editor)return;const s=this.isDelta(this.value)?i.getContents():i.getSemanticHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=s,this.props.onChange?.(e,t,r,i))}onEditorChangeSelection(e,t,r){if(!this.editor)return;const i=this.getEditorSelection(),s=!i&&e,o=i&&!e;_t(e,i)||(this.selection=e,this.props.onChangeSelection?.(e,t,r),s?this.props.onFocus?.(e,t,r):o&&this.props.onBlur?.(i,t,r))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Ko.displayName="React Quill";Ko.Quill=N;Ko.defaultProps={theme:"snow",modules:{},readOnly:!1};function Dl(n){Promise.resolve().then(n)}export{Zy as C,Ko as R,Ky as S};
