import{R as d,r as u,f as x,j as e,E as h,s as i}from"./index-D3T7aQCD.js";import{u as f,F as b}from"./index-CsDELSGv.js";function j(){const{register:l,handleSubmit:n,formState:{errors:r}}=f({mode:"onChange"}),[a,t]=u.useState(!1),m=x(),c=async o=>{t(!0);try{const s=await h(o);s.error?i(s.message,"error"):(m(`/verification?email=${btoa(o.email)}`),i(`Your OTP is: ${s.results.otp}`,"success"))}catch{console.log("An error occurred")}finally{t(!1)}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"d-flex align-items-center justify-content-center vh-100",children:e.jsxs("div",{className:"card shadow p-4 border-0 login-card",children:[e.jsx("h3",{className:"text-center mb-3 text-main fw-bold",children:"Forgot Password"}),e.jsx("p",{className:"text-center text mb-4",children:"Enter your email and we'll send you OTP."}),e.jsxs("form",{onSubmit:n(c),children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Email Address"}),e.jsx("input",{type:"text",className:`form-control ${r.email?"input-error":""}`,placeholder:"Enter your email",...l("email",{required:"Email is required",pattern:{value:/^(?!.*\.\.)[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Enter a valid email address"}})}),r.email&&e.jsx("p",{className:"form-error",children:r.email.message})]}),e.jsx("button",{type:"submit",className:"btn w-100 comman-btn-main",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"me-2",children:"Wait..."}),e.jsx(b,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"20",visible:!0})]}):"Send OTP"})]})]})})})}const w=d.memo(j);export{w as default};
