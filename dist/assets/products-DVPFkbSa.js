import{R as k,u as w,r as m,b as C,j as e,L as d,A as P,s as i,B as _,C as A}from"./index-8kXOQ8MA.js";import{S as I,H as L}from"./header-Bd8wBNxd.js";import{S as l}from"./skeleton-4DzpXXu5.js";function $(){const{isSidebarHidden:p}=w(),[t,x]=m.useState(1),[n,b]=m.useState(10),[N,j]=m.useState(""),{data:u,isLoading:f,refetch:g}=C({queryKey:["productList",t,n],queryFn:async()=>A({page:t,pageSize:n,search:""}),onError:s=>{console.log(s)}}),o=u?.results?.products||[],c=Math.ceil(u?.results?.totalPages),h=s=>{s>0&&s<=c&&x(s)},v=async s=>{try{const a=await P(s);a.error?i(a.message,"error"):(i(a.message,"success"),g())}catch{console.log("An error occurred")}},y=async s=>{try{const a=await _(s);a.error?i(a.message,"error"):(i(a.message,"success"),document.getElementById("close").click(),g())}catch{console.log("An error occurred")}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"admin-wrapper d-flex",children:[e.jsx(I,{}),e.jsxs("div",{className:p?"main-content flex-grow-1 full":"main-content flex-grow-1",id:"main-content",children:[e.jsx(L,{}),e.jsxs("main",{className:"p-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"d-flex gap-3 align-items-center justify-content-between",children:[e.jsx("h3",{className:"fw-semibold fs-5",children:"Products Management"}),e.jsxs(d,{className:"btn btn-sm btn-light",to:"/merchant/add-product",children:[e.jsx("i",{className:"fa fa-plus"})," Add"]})]})}),e.jsx("div",{className:"table-responsive shadow-sm rounded bg-white p-3",children:e.jsxs("table",{className:"table table-hover align-middle",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"S.No"}),e.jsx("th",{children:"Product Name"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Subcategory"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:f?[...Array(n)].map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(l,{})}),e.jsx("td",{children:e.jsx(l,{})}),e.jsx("td",{children:e.jsx(l,{})}),e.jsx("td",{children:e.jsx(l,{})}),e.jsx("td",{children:e.jsx(l,{})}),e.jsx("td",{children:e.jsx(l,{})}),e.jsx("td",{children:e.jsx(l,{})})]},a)):o?.length?o?.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:a+1}),e.jsx("td",{children:s.name_en}),e.jsx("td",{children:s.categoryId.name_en}),e.jsx("td",{children:s.subCategoryId.name_en}),e.jsx("td",{children:s.type}),e.jsx("td",{children:e.jsx("div",{className:"form-check form-switch",children:e.jsx("input",{className:"form-check-input",type:"checkbox",checked:s.status,onChange:()=>v(s._id)})})}),e.jsxs("td",{className:"text-center",children:[e.jsx(d,{to:`/merchant/product-details/${s._id}`,className:"table-btn bg-main me-2",children:e.jsx("i",{className:"fa fa-eye"})}),e.jsx(d,{to:`/merchant/edit-product/${s._id}`,className:"table-btn bg-main me-2",children:e.jsx("i",{className:"fa fa-edit"})}),e.jsx("button",{className:"table-btn bg-danger","data-bs-toggle":"modal","data-bs-target":"#delete",onClick:r=>{r.stopPropagation(),j(s._id)},children:e.jsx("i",{className:"fa fa-trash"})})]})]})):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"text-center",children:"Oops! No Result Found."})})})]})})]}),o?.length?e.jsx("div",{className:"col-md-12 mt-3",children:e.jsxs("div",{className:"row align-items-center justify-content-between",children:[e.jsx("div",{className:"col-auto",children:e.jsxs("div",{className:"datafilter",children:[e.jsx("span",{children:"Showing"}),e.jsxs("select",{className:"form-select","aria-label":"Default select example",value:n,onChange:s=>{b(parseInt(s.target.value,10)),x(1)},children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:15,children:"15"}),e.jsx("option",{value:20,children:"20"})]})]})}),e.jsx("div",{className:"col-auto",children:e.jsx("div",{className:"page_txt"})}),e.jsx("div",{className:"col-auto",children:e.jsx("nav",{"aria-label":"Page navigation example",children:e.jsxs("ul",{className:"pagination border-0 gap-2",children:[e.jsx("li",{className:"page-item",children:e.jsx("button",{className:`page-link ${t===1?"disabled":""}`,onClick:()=>h(t-1),disabled:t===1,children:e.jsx("i",{class:"fa fa-angle-left"})})}),Array.from({length:c}).map((s,a)=>a+1).filter(s=>s===1||s===c||Math.abs(s-t)<=2).reduce((s,a,r,S)=>(r>0&&a-S[r-1]>1&&s.push("..."),s.push(a),s),[]).map((s,a)=>s==="..."?e.jsx("span",{className:"pagination-ellipsis",children:"..."},a):e.jsx(e.Fragment,{children:e.jsx("li",{className:"page-item",children:e.jsx("button",{className:`page-link ${t===s?"active":""}`,onClick:()=>h(s),children:s},a)})})),e.jsx("li",{className:"page-item",children:e.jsx("button",{className:`page-link ${t===c?"disabled":""}`,onClick:()=>h(t+1),disabled:t===c,children:e.jsx("i",{class:"fa fa-angle-right"})})})]})})})]})}):""]})]})]}),e.jsx("div",{className:"modal fade logoutmodal",id:"delete",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsx("div",{className:"modal-content",children:e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"paymentmodal_main text-center",children:[e.jsxs("div",{className:"payment_head mb-3 mt-1",children:[e.jsx("h2",{children:"Confirmation"}),e.jsx("p",{children:"Are you sure? This action can not be reverted."})]}),e.jsxs("div",{className:"row justify-content-center mb-2",children:[e.jsx("div",{className:"col-auto",children:e.jsx("button",{className:"comman-btn-main",onClick:()=>y(N),children:"Yes"})}),e.jsx("div",{className:"col-auto",children:e.jsx(d,{className:"comman-btn-main white","data-bs-dismiss":"modal",to:"",onClick:()=>j(""),id:"close",children:"No"})})]})]})})})})})]})}const M=k.memo($);export{M as default};
